!function(){var e=function(e){var t;return function(r){return t||e(t={exports:{},parent:r},t.exports),t.exports}},t=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIGURATION=void 0;const a=r({});t.CONFIGURATION={get FIELDS(){return delete this.FIELDS,this.FIELDS=Object.fromEntries(Object.entries(t.CONFIGURATION.OPTIONS).flatMap((function e([t,r]){return a=r,["elementId","defaultValue","Validator"].every(e=>Object.keys(a).includes(e))?[[t,r]]:Object.entries(r).flatMap(([r,a])=>e([`${t}.${r}`,a]));var a})))},OPTIONS:{timeZone:{elementId:"timezone",defaultValue:"Pacific/Auckland",Validator:a.TimeZoneField},canvas:{classNames:{breadcrumbs:{elementId:"breadcrumbs",defaultValue:"ic-app-crumbs",Validator:a.RequiredStringField},assignment:{elementId:"assignment-class",defaultValue:"assignment",Validator:a.RequiredStringField},title:{elementId:"assignment-title",defaultValue:"ig-title",Validator:a.RequiredStringField},availableDate:{elementId:"available-date",defaultValue:"assignment-date-available",Validator:a.RequiredStringField},availableStatus:{elementId:"available-status",defaultValue:"status-description",Validator:a.RequiredStringField},dueDate:{elementId:"due-date",defaultValue:"assignment-date-due",Validator:a.RequiredStringField},dateElement:{elementId:"date-element",defaultValue:"screenreader-only",Validator:a.RequiredStringField}},classValues:{courseCodeN:{elementId:"course-code-n",defaultValue:"2",Validator:a.RequiredNumberField},notAvailable:{elementId:"status-not-available",defaultValue:"Not available until",Validator:a.RequiredStringField}},courseCodeOverrides:{elementId:"course-code-overrides",defaultValue:"{}",Validator:a.JSONStringObjectField}},notion:{notionKey:{elementId:"notion-key",defaultValue:null,Validator:a.RequiredNotionKeyField,validateOn:"change"},databaseId:{elementId:"database-id",defaultValue:null,Validator:a.RequiredNotionDatabaseIdField,validateOn:"change"},propertyNames:{name:{elementId:"notion-property-name",defaultValue:"Name",Validator:a.RequiredStringField},category:{elementId:"notion-property-category",defaultValue:"Category",Validator:a.StringField},course:{elementId:"notion-property-course",defaultValue:"Course",Validator:a.StringField},url:{elementId:"notion-property-url",defaultValue:"URL",Validator:a.StringField},status:{elementId:"notion-property-status",defaultValue:"Status",Validator:a.StringField},available:{elementId:"notion-property-available",defaultValue:"Reminder",Validator:a.StringField},due:{elementId:"notion-property-due",defaultValue:"Due",Validator:a.StringField},span:{elementId:"notion-property-span",defaultValue:"Date Span",Validator:a.StringField}},propertyValues:{categoryCanvas:{elementId:"notion-category-canvas",defaultValue:"Canvas",Validator:a.StringField},statusToDo:{elementId:"notion-status-todo",defaultValue:"To Do",Validator:a.StringField}},courseEmojis:{elementId:"course-emojis",defaultValue:"{}",Validator:a.JSONEmojiObjectField}}}}})),r=e((function(e,r){"use strict";var a=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))((function(s,i){function n(e){try{l(a.next(e))}catch(t){i(t)}}function o(e){try{l(a.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,o)}l((a=a.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.TimeZoneField=r.JSONEmojiObjectField=r.JSONStringObjectField=r.RequiredNotionDatabaseIdField=r.RequiredNotionKeyField=r.RequiredNumberField=r.RequiredStringField=r.StringField=r.FieldValidator=void 0;const s=t({}),i={button:document.getElementById("save-button"),updateState(e){if(this.button&&this.button instanceof HTMLButtonElement)switch(e){case 0:this.button.innerHTML=`Validating ${n.countValidatingFields()} input${n.countValidatingFields()>1?"s":""}...`,this.button.disabled=!0;break;case 1:this.button.innerHTML=`${n.countInvalidFields()} invalid input${n.countInvalidFields()>1?"s":""}!`,this.button.disabled=!0,this.button.classList.add("red"),this.button.classList.remove("green");break;case 2:if(n.countInvalidFields()>0)return this.updateState(1);if(n.countValidatingFields()>0)return this.updateState(0);this.button.innerHTML="Save",this.button.disabled=!1,this.button.classList.add("green"),this.button.classList.remove("red")}}};class n{constructor(e,t,r,a){this.elementId=e,this.inputValue=t,this.typeGuard=r,this.type=a}static countValidatingFields(){return n.validatingFields.size}static countInvalidFields(){return n.invalidFields.size}validator(){return a(this,void 0,void 0,(function*(){return this.typeGuard(this.inputValue)?this.inputValue:(this.addInvalidError(`Input must be a ${this.type}!`),n.INVALID_INPUT)}))}validate(){return a(this,void 0,void 0,(function*(){this.addValidatingStatus();const e=yield this.validator();return this.removeValidatingStatus(),e!==n.INVALID_INPUT&&this.removeInvalidError(),e}))}addValidatingStatus(){this.removeInvalidError(),n.validatingFields.add(this.elementId);const e=document.getElementById(this.elementId);if(e){const t=document.getElementById("validating-input-"+this.elementId),r=`<span id='validating-input-${this.elementId}' class='validating-input-status'>Validating input...</span>`;t?t.innerHTML=r:e.insertAdjacentHTML("beforebegin",r)}i.updateState(0)}removeValidatingStatus(){var e;n.validatingFields.delete(this.elementId),null===(e=document.getElementById("validating-input-"+this.elementId))||void 0===e||e.remove(),i.updateState(2)}addInvalidError(e){n.invalidFields.add(this.elementId);const t=document.getElementById(this.elementId);if(t){t.classList.add("invalid-input");const r=document.getElementById("invalid-input-"+this.elementId),a=`<span id='invalid-input-${this.elementId}' class='invalid-input-error'>${e}</span>`;r?r.innerHTML=a:t.insertAdjacentHTML("beforebegin",a)}i.updateState(1)}removeInvalidError(){var e,t;n.invalidFields.delete(this.elementId),null===(e=document.getElementById(this.elementId))||void 0===e||e.classList.remove("invalid-input"),null===(t=document.getElementById("invalid-input-"+this.elementId))||void 0===t||t.remove(),i.updateState(2)}}r.FieldValidator=n,n.INVALID_INPUT=Symbol("INVALID_INPUT"),n.validatingFields=new Set,n.invalidFields=new Set;class o extends n{validator(){return a(this,void 0,void 0,(function*(){if(this.inputValue){if(this.typeGuard(this.inputValue))return this.inputValue;this.addInvalidError(`Input must be a ${this.type}!`)}else this.addInvalidError("Required field cannot be empty!");return n.INVALID_INPUT}))}}class l extends o{getCachedInput(){var e;return null===(e=l.cache)||void 0===e?void 0:e[this.elementId]}cacheInput(e){return l.cache[this.elementId]=e}}l.cache={};class d extends n{validator(){var e,t;return a(this,void 0,void 0,(function*(){try{if(!this.inputValue)return"{}";const r=JSON.parse(this.inputValue);if(r instanceof Object&&!Array.isArray(r)){if(Object.values(r).every(this.typeGuard))return null===(t=null===(e=document.getElementById(this.elementId))||void 0===e?void 0:e.classList)||void 0===t||t.remove("invalid-input"),this.inputValue;this.addInvalidError(`All object values must be ${this.type}s!`)}else this.addInvalidError("Input must be an object <code>{}</code>.");return n.INVALID_INPUT}catch(r){return this.addInvalidError("Input is not valid <code>JSON</code>."),n.INVALID_INPUT}}))}}const u=e=>"string"==typeof e||null===e,m=e=>"string"==typeof e,c=e=>"string"==typeof e&&!isNaN(Number(e)),g=e=>"string"==typeof e&&/^[\p{Emoji_Presentation}\u200D]+$/u.test(e);r.StringField=class extends n{constructor(e,t){super(e,t,u,"string")}},r.RequiredStringField=class extends o{constructor(e,t){super(e,t,m,"string")}},r.RequiredNumberField=class extends o{constructor(e,t){super(e,t,c,"number")}},r.RequiredNotionKeyField=class extends l{constructor(e,t){super(e,t,m,"string")}validator(){const e=Object.create(null,{validator:{get:()=>super.validator}});return a(this,void 0,void 0,(function*(){if(this.getCachedInput()===this.inputValue)return this.inputValue;if((yield e.validator.call(this))===this.inputValue)if(navigator.onLine){const e=new j.NotionClient({auth:this.inputValue});if(yield e.retrieveMe())return this.cacheInput(this.inputValue);this.addInvalidError("Input is not a valid Notion Integration Key.")}else this.addInvalidError("Please connect to the Internet to validate this input.");return n.INVALID_INPUT}))}},r.RequiredNotionDatabaseIdField=class extends l{constructor(e,t){super(e,t,m,"string")}getNotionKey(){return a(this,void 0,void 0,(function*(){const e=s.CONFIGURATION.FIELDS["notion.notionKey"],t=document.getElementById(e.elementId);if(t&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)){const r=t.value.trim()||null;if(r){const t=new e.Validator(e.elementId,r);if(t instanceof l&&t.getCachedInput()===r)return r;const a=yield new e.Validator(e.elementId,r).validate();if(a!==n.INVALID_INPUT)return a}}return null}))}validator(){const e=Object.create(null,{validator:{get:()=>super.validator}});return a(this,void 0,void 0,(function*(){if(this.getCachedInput()===this.inputValue)return this.inputValue;if((yield e.validator.call(this))===this.inputValue){const e=yield this.getNotionKey();if(e)if(navigator.onLine){const t=new j.NotionClient({auth:e});if(yield t.retrieveDatabase(this.inputValue))return this.cacheInput(this.inputValue);this.addInvalidError("Could not find the database.<br>Verify the ID and make sure the database is shared with your integration.")}else this.addInvalidError("Please connect to the Internet to validate this input.");else this.addInvalidError("Invalid Notion Integration Key.")}return n.INVALID_INPUT}))}},r.JSONStringObjectField=class extends d{constructor(e,t){super(e,t,m,"string")}},r.JSONEmojiObjectField=class extends d{constructor(e,t){super(e,t,g,"emoji")}},r.TimeZoneField=class extends n{constructor(e,t){super(e,t,u,"string")}validator(){const e=Object.create(null,{validator:{get:()=>super.validator}});return a(this,void 0,void 0,(function*(){if(!this.inputValue)return null;if((yield e.validator.call(this))===this.inputValue)try{return Intl.DateTimeFormat(void 0,{timeZone:this.inputValue}),this.inputValue}catch(t){this.addInvalidError("Invalid time zone.")}return n.INVALID_INPUT}))}}})),a={exports:{}};!function(e,t){if("function"==typeof define&&define.amd)define("webextension-polyfill",["module"],t);else if(void 0!==a.exports)t(a);else{var r={exports:{}};t(r),e.browser=r.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){"use strict";if("object"!=typeof globalThis||"object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",r="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",a=e=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(a).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,r)=>(...a)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||a.length<=1&&!1!==r.singleCallbackArg?t.resolve(a[0]):t.resolve(a)},n=e=>1==e?"argument":"arguments",o=(e,t,r)=>new Proxy(t,{apply:(t,a,s)=>r.call(a,e,...s)});let l=Function.call.bind(Object.prototype.hasOwnProperty);const d=(e,t={},r={})=>{let a=Object.create(null),s={has:(t,r)=>r in e||r in a,get(s,u,m){if(u in a)return a[u];if(!(u in e))return;let c=e[u];if("function"==typeof c)if("function"==typeof t[u])c=o(e,e[u],t[u]);else if(l(r,u)){let t=((e,t)=>function(r,...a){if(a.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${n(t.minArgs)} for ${e}(), got ${a.length}`);if(a.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${n(t.maxArgs)} for ${e}(), got ${a.length}`);return new Promise((s,n)=>{if(t.fallbackToNoCallback)try{r[e](...a,i({resolve:s,reject:n},t))}catch(o){console.warn(e+" API method doesn't seem to support the callback parameter, falling back to call it without a callback: ",o),r[e](...a),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(r[e](...a),s()):r[e](...a,i({resolve:s,reject:n},t))})})(u,r[u]);c=o(e,e[u],t)}else c=c.bind(e);else if("object"==typeof c&&null!==c&&(l(t,u)||l(r,u)))c=d(c,t[u],r[u]);else{if(!l(r,"*"))return Object.defineProperty(a,u,{configurable:!0,enumerable:!0,get:()=>e[u],set(t){e[u]=t}}),c;c=d(c,t[u],r["*"])}return a[u]=c,c},set:(t,r,s,i)=>(r in a?a[r]=s:e[r]=s,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(a,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(a,t)},u=Object.create(e);return new Proxy(u,s)},u=e=>({addListener(t,r,...a){t.addListener(e.get(r),...a)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),m=new s(e=>"function"!=typeof e?e:function(t){const r=d(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)});let c=!1;const g=new s(e=>"function"!=typeof e?e:function(t,a,s){let i,n,o=!1,l=new Promise(e=>{i=function(t){c||(console.warn(r,(new Error).stack),c=!0),o=!0,e(t)}});try{n=e(t,a,i)}catch(m){n=Promise.reject(m)}const d=!0!==n&&((u=n)&&"object"==typeof u&&"function"==typeof u.then);var u;if(!0!==n&&!d&&!o)return!1;return(d?n:l).then(e=>{s(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)}),!0}),h=(r,a,s,...i)=>{if(i.length<a.minArgs)throw new Error(`Expected at least ${a.minArgs} ${n(a.minArgs)} for ${r}(), got ${i.length}`);if(i.length>a.maxArgs)throw new Error(`Expected at most ${a.maxArgs} ${n(a.maxArgs)} for ${r}(), got ${i.length}`);return new Promise((r,a)=>{const n=(({reject:r,resolve:a},s)=>{e.runtime.lastError?e.runtime.lastError.message===t?a():r(new Error(e.runtime.lastError.message)):s&&s.__mozWebExtensionPolyfillReject__?r(new Error(s.message)):a(s)}).bind(null,{resolve:r,reject:a});i.push(n),s.sendMessage(...i)})},p={devtools:{network:{onRequestFinished:u(m)}},runtime:{onMessage:u(g),onMessageExternal:u(g),sendMessage:h.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:h.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},d(e,p,a)};e.exports=a(chrome)}else e.exports=globalThis.browser})),a=a.exports;var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.isObject=s.pick=s.assertNever=void 0,s.assertNever=function(e){throw new Error("Unexpected value should never occur: "+e)},s.pick=function(e,t){const r=t.map(t=>[t,null==e?void 0:e[t]]);return Object.fromEntries(r)},s.isObject=function(e){return"object"==typeof e&&null!==e};var i,n={};Object.defineProperty(n,"__esModule",{value:!0}),n.logLevelSeverity=n.makeConsoleLogger=n.LogLevel=void 0,function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(i=n.LogLevel||(n.LogLevel={})),n.makeConsoleLogger=function(e){return(t,r,a)=>{console[t](`${e} ${t}:`,r,a)}},n.logLevelSeverity=function(e){switch(e){case i.DEBUG:return 20;case i.INFO:return 40;case i.WARN:return 60;case i.ERROR:return 80;default:return(0,s.assertNever)(e)}};var o,l,d={};Object.defineProperty(d,"__esModule",{value:!0}),d.buildRequestError=d.APIResponseError=d.UnknownHTTPResponseError=d.isHTTPResponseError=d.RequestTimeoutError=d.isNotionClientError=d.ClientErrorCode=d.APIErrorCode=void 0,function(e){e.Unauthorized="unauthorized",e.RestrictedResource="restricted_resource",e.ObjectNotFound="object_not_found",e.RateLimited="rate_limited",e.InvalidJSON="invalid_json",e.InvalidRequestURL="invalid_request_url",e.InvalidRequest="invalid_request",e.ValidationError="validation_error",e.ConflictError="conflict_error",e.InternalServerError="internal_server_error",e.ServiceUnavailable="service_unavailable"}(o=d.APIErrorCode||(d.APIErrorCode={})),function(e){e.RequestTimeout="notionhq_client_request_timeout",e.ResponseError="notionhq_client_response_error"}(l=d.ClientErrorCode||(d.ClientErrorCode={}));class u extends Error{}function m(e){return(0,s.isObject)(e)&&e instanceof u}function c(e,t){return m(e)&&e.code in t}d.isNotionClientError=m;class g extends u{constructor(e="Request to Notion API has timed out"){super(e),this.code=l.RequestTimeout,this.name="RequestTimeoutError"}static isRequestTimeoutError(e){return c(e,{[l.RequestTimeout]:!0})}static rejectAfterTimeout(e,t){return new Promise((r,a)=>{const s=setTimeout(()=>{a(new g)},t);e.then(r).catch(a).then(()=>clearTimeout(s))})}}d.RequestTimeoutError=g;class h extends u{constructor(e){super(e.message),this.name="HTTPResponseError";const{code:t,status:r,headers:a,rawBodyText:s}=e;this.code=t,this.status=r,this.headers=a,this.body=s}}const p={[l.ResponseError]:!0,[o.Unauthorized]:!0,[o.RestrictedResource]:!0,[o.ObjectNotFound]:!0,[o.RateLimited]:!0,[o.InvalidJSON]:!0,[o.InvalidRequestURL]:!0,[o.InvalidRequest]:!0,[o.ValidationError]:!0,[o.ConflictError]:!0,[o.InternalServerError]:!0,[o.ServiceUnavailable]:!0};d.isHTTPResponseError=function(e){return!!c(e,p)};class v extends h{constructor(e){var t;super({...e,code:l.ResponseError,message:null!==(t=e.message)&&void 0!==t?t:"Request to Notion API failed with status: "+e.status}),this.name="UnknownHTTPResponseError"}static isUnknownHTTPResponseError(e){return c(e,{[l.ResponseError]:!0})}}d.UnknownHTTPResponseError=v;const A={[o.Unauthorized]:!0,[o.RestrictedResource]:!0,[o.ObjectNotFound]:!0,[o.RateLimited]:!0,[o.InvalidJSON]:!0,[o.InvalidRequestURL]:!0,[o.InvalidRequest]:!0,[o.ValidationError]:!0,[o.ConflictError]:!0,[o.InternalServerError]:!0,[o.ServiceUnavailable]:!0};class b extends h{constructor(){super(...arguments),this.name="APIResponseError"}static isAPIResponseError(e){return c(e,A)}}d.APIResponseError=b,d.buildRequestError=function(e,t){const r=function(e){if("string"!=typeof e)return;let t;try{t=JSON.parse(e)}catch(a){return}var r;return(0,s.isObject)(t)&&"string"==typeof t.message&&"string"==typeof(r=t.code)&&r in A?{...t,code:t.code,message:t.message}:void 0}(t);return void 0!==r?new b({code:r.code,message:r.message,headers:e.headers,status:e.status,rawBodyText:t}):new v({message:void 0,headers:e.headers,status:e.status,rawBodyText:t})};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.search=f.createDatabase=f.listDatabases=f.queryDatabase=f.updateDatabase=f.getDatabase=f.appendBlockChildren=f.listBlockChildren=f.deleteBlock=f.updateBlock=f.getBlock=f.getPageProperty=f.updatePage=f.getPage=f.createPage=f.listUsers=f.getUser=f.getSelf=void 0,f.getSelf={method:"get",pathParams:[],queryParams:[],bodyParams:[],path:()=>"users/me"},f.getUser={method:"get",pathParams:["user_id"],queryParams:[],bodyParams:[],path:e=>"users/"+e.user_id},f.listUsers={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"users"},f.createPage={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","content","children"],path:()=>"pages"},f.getPage={method:"get",pathParams:["page_id"],queryParams:[],bodyParams:[],path:e=>"pages/"+e.page_id},f.updatePage={method:"patch",pathParams:["page_id"],queryParams:[],bodyParams:["properties","icon","cover","archived"],path:e=>"pages/"+e.page_id},f.getPageProperty={method:"get",pathParams:["page_id","property_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`pages/${e.page_id}/properties/${e.property_id}`},f.getBlock={method:"get",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>"blocks/"+e.block_id},f.updateBlock={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["embed","type","archived","bookmark","image","video","pdf","file","audio","code","equation","divider","breadcrumb","table_of_contents","link_to_page","table_row","heading_1","heading_2","heading_3","paragraph","bulleted_list_item","numbered_list_item","quote","to_do","toggle","template","callout","synced_block","table"],path:e=>"blocks/"+e.block_id},f.deleteBlock={method:"delete",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>"blocks/"+e.block_id},f.listBlockChildren={method:"get",pathParams:["block_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`blocks/${e.block_id}/children`},f.appendBlockChildren={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["children"],path:e=>`blocks/${e.block_id}/children`},f.getDatabase={method:"get",pathParams:["database_id"],queryParams:[],bodyParams:[],path:e=>"databases/"+e.database_id},f.updateDatabase={method:"patch",pathParams:["database_id"],queryParams:[],bodyParams:["title","icon","cover","properties","archived"],path:e=>"databases/"+e.database_id},f.queryDatabase={method:"post",pathParams:["database_id"],queryParams:[],bodyParams:["sorts","filter","start_cursor","page_size","archived"],path:e=>`databases/${e.database_id}/query`},f.listDatabases={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"databases"},f.createDatabase={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","title"],path:()=>"databases"},f.search={method:"post",pathParams:[],queryParams:[],bodyParams:["sort","query","start_cursor","page_size","filter"],path:()=>"search"};var y={},P=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==P)return P;throw new Error("unable to locate global object")}();y=y=P.fetch,P.fetch&&(y.default=P.fetch.bind(P)),y.Headers=P.Headers,y.Request=P.Request,y.Response=P.Response;var x,I,k,E,N,q,w,R,_,T="@notionhq/client",V="1.0.4",L={},O=this&&this.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r},C=this&&this.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};Object.defineProperty(L,"__esModule",{value:!0});class S{constructor(e){var t,r,a,i,o,l;x.set(this,void 0),I.set(this,void 0),k.set(this,void 0),E.set(this,void 0),N.set(this,void 0),q.set(this,void 0),w.set(this,void 0),R.set(this,void 0),_.set(this,void 0),this.blocks={retrieve:e=>this.request({path:f.getBlock.path(e),method:f.getBlock.method,query:(0,s.pick)(e,f.getBlock.queryParams),body:(0,s.pick)(e,f.getBlock.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:f.updateBlock.path(e),method:f.updateBlock.method,query:(0,s.pick)(e,f.updateBlock.queryParams),body:(0,s.pick)(e,f.updateBlock.bodyParams),auth:null==e?void 0:e.auth}),delete:e=>this.request({path:f.deleteBlock.path(e),method:f.deleteBlock.method,query:(0,s.pick)(e,f.deleteBlock.queryParams),body:(0,s.pick)(e,f.deleteBlock.bodyParams),auth:null==e?void 0:e.auth}),children:{append:e=>this.request({path:f.appendBlockChildren.path(e),method:f.appendBlockChildren.method,query:(0,s.pick)(e,f.appendBlockChildren.queryParams),body:(0,s.pick)(e,f.appendBlockChildren.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:f.listBlockChildren.path(e),method:f.listBlockChildren.method,query:(0,s.pick)(e,f.listBlockChildren.queryParams),body:(0,s.pick)(e,f.listBlockChildren.bodyParams),auth:null==e?void 0:e.auth})}},this.databases={list:e=>this.request({path:f.listDatabases.path(),method:f.listDatabases.method,query:(0,s.pick)(e,f.listDatabases.queryParams),body:(0,s.pick)(e,f.listDatabases.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:f.getDatabase.path(e),method:f.getDatabase.method,query:(0,s.pick)(e,f.getDatabase.queryParams),body:(0,s.pick)(e,f.getDatabase.bodyParams),auth:null==e?void 0:e.auth}),query:e=>this.request({path:f.queryDatabase.path(e),method:f.queryDatabase.method,query:(0,s.pick)(e,f.queryDatabase.queryParams),body:(0,s.pick)(e,f.queryDatabase.bodyParams),auth:null==e?void 0:e.auth}),create:e=>this.request({path:f.createDatabase.path(),method:f.createDatabase.method,query:(0,s.pick)(e,f.createDatabase.queryParams),body:(0,s.pick)(e,f.createDatabase.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:f.updateDatabase.path(e),method:f.updateDatabase.method,query:(0,s.pick)(e,f.updateDatabase.queryParams),body:(0,s.pick)(e,f.updateDatabase.bodyParams),auth:null==e?void 0:e.auth})},this.pages={create:e=>this.request({path:f.createPage.path(),method:f.createPage.method,query:(0,s.pick)(e,f.createPage.queryParams),body:(0,s.pick)(e,f.createPage.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:f.getPage.path(e),method:f.getPage.method,query:(0,s.pick)(e,f.getPage.queryParams),body:(0,s.pick)(e,f.getPage.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:f.updatePage.path(e),method:f.updatePage.method,query:(0,s.pick)(e,f.updatePage.queryParams),body:(0,s.pick)(e,f.updatePage.bodyParams),auth:null==e?void 0:e.auth}),properties:{retrieve:e=>this.request({path:f.getPageProperty.path(e),method:f.getPageProperty.method,query:(0,s.pick)(e,f.getPageProperty.queryParams),body:(0,s.pick)(e,f.getPageProperty.bodyParams),auth:null==e?void 0:e.auth})}},this.users={retrieve:e=>this.request({path:f.getUser.path(e),method:f.getUser.method,query:(0,s.pick)(e,f.getUser.queryParams),body:(0,s.pick)(e,f.getUser.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:f.listUsers.path(),method:f.listUsers.method,query:(0,s.pick)(e,f.listUsers.queryParams),body:(0,s.pick)(e,f.listUsers.bodyParams),auth:null==e?void 0:e.auth}),me:e=>this.request({path:f.getSelf.path(),method:f.getSelf.method,query:(0,s.pick)(e,f.getSelf.queryParams),body:(0,s.pick)(e,f.getSelf.bodyParams),auth:null==e?void 0:e.auth})},O(this,x,null==e?void 0:e.auth,"f"),O(this,I,null!==(t=null==e?void 0:e.logLevel)&&void 0!==t?t:n.LogLevel.WARN,"f"),O(this,k,null!==(r=null==e?void 0:e.logger)&&void 0!==r?r:(0,n.makeConsoleLogger)(T),"f"),O(this,E,(null!==(a=null==e?void 0:e.baseUrl)&&void 0!==a?a:"https://api.notion.com")+"/v1/","f"),O(this,N,null!==(i=null==e?void 0:e.timeoutMs)&&void 0!==i?i:6e4,"f"),O(this,q,null!==(o=null==e?void 0:e.notionVersion)&&void 0!==o?o:S.defaultNotionVersion,"f"),O(this,w,null!==(l=null==e?void 0:e.fetch)&&void 0!==l?l:y.default,"f"),O(this,R,null==e?void 0:e.agent,"f"),O(this,_,"notionhq-client/"+V,"f")}async request({path:e,method:t,query:r,body:a,auth:s}){this.log(n.LogLevel.INFO,"request start",{method:t,path:e});const i=a&&0!==Object.entries(a).length?JSON.stringify(a):void 0,o=new URL(`${C(this,E,"f")}${e}`);if(r)for(const[n,d]of Object.entries(r))void 0!==d&&o.searchParams.append(n,String(d));const l={...this.authAsHeaders(s),"Notion-Version":C(this,q,"f"),"user-agent":C(this,_,"f")};void 0!==i&&(l["content-type"]="application/json");try{const r=await d.RequestTimeoutError.rejectAfterTimeout(C(this,w,"f").call(this,o.toString(),{method:t,headers:l,body:i,agent:C(this,R,"f")}),C(this,N,"f")),a=await r.text();if(!r.ok)throw(0,d.buildRequestError)(r,a);const s=JSON.parse(a);return this.log(n.LogLevel.INFO,"request success",{method:t,path:e}),s}catch(u){if(!(0,d.isNotionClientError)(u))throw u;throw this.log(n.LogLevel.WARN,"request fail",{code:u.code,message:u.message}),(0,d.isHTTPResponseError)(u)&&this.log(n.LogLevel.DEBUG,"failed response body",{body:u.body}),u}}search(e){return this.request({path:f.search.path(),method:f.search.method,query:(0,s.pick)(e,f.search.queryParams),body:(0,s.pick)(e,f.search.bodyParams),auth:null==e?void 0:e.auth})}log(e,t,r){(0,n.logLevelSeverity)(e)>=(0,n.logLevelSeverity)(C(this,I,"f"))&&C(this,k,"f").call(this,e,t,r)}authAsHeaders(e){const t={},r=null!=e?e:C(this,x,"f");return void 0!==r&&(t.authorization="Bearer "+r),t}}L.default=S,x=new WeakMap,I=new WeakMap,k=new WeakMap,E=new WeakMap,N=new WeakMap,q=new WeakMap,w=new WeakMap,R=new WeakMap,_=new WeakMap,S.defaultNotionVersion="2022-02-22";var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.isNotionClientError=F.APIErrorCode=F.Client=void 0,Object.defineProperty(F,"Client",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(F,"LogLevel",{enumerable:!0,get:function(){return n.LogLevel}}),Object.defineProperty(F,"APIErrorCode",{enumerable:!0,get:function(){return d.APIErrorCode}}),Object.defineProperty(F,"ClientErrorCode",{enumerable:!0,get:function(){return d.ClientErrorCode}}),Object.defineProperty(F,"APIResponseError",{enumerable:!0,get:function(){return d.APIResponseError}}),Object.defineProperty(F,"UnknownHTTPResponseError",{enumerable:!0,get:function(){return d.UnknownHTTPResponseError}}),Object.defineProperty(F,"RequestTimeoutError",{enumerable:!0,get:function(){return d.RequestTimeoutError}}),Object.defineProperty(F,"isNotionClientError",{enumerable:!0,get:function(){return d.isNotionClientError}});var j={},D=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))((function(s,i){function n(e){try{l(a.next(e))}catch(t){i(t)}}function o(e){try{l(a.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,o)}l((a=a.apply(e,t||[])).next())}))};function B(e){return!!e&&"has_more"in e}Object.defineProperty(j,"__esModule",{value:!0}),j.NotionClient=void 0;class U extends F.Client{constructor(e){super(e),this.auth=e.auth}get isRateLimited(){var e,t;return null!==(t=null===(e=U.rateLimits[this.auth])||void 0===e?void 0:e.isRateLimited)&&void 0!==t&&t}set isRateLimited(e){U.rateLimits[this.auth].isRateLimited=e}get retryAfterPromise(){var e,t;return null!==(t=null===(e=U.rateLimits[this.auth])||void 0===e?void 0:e.retryAfterPromise)&&void 0!==t?t:null}set retryAfterPromise(e){U.rateLimits[this.auth].retryAfterPromise=e}static alertRateLimited(){alert("You are being rate-limited for making too many requests too quickly.\n\nLeave this popup open and I will automatically resume once you are no longer rate-limited.\n\nAlternatively, please try again in a few minutes' time.")}static sleep(e){return D(this,void 0,void 0,(function*(){return yield new Promise(t=>setTimeout(t,e))}))}makeRequest(e,t){return D(this,void 0,void 0,(function*(){try{return this.isRateLimited&&null!==this.retryAfterPromise&&(U.alertRateLimited,yield this.retryAfterPromise),yield e(t)}catch(r){const a=(0,F.isNotionClientError)(r)?"NOTION_ERROR":"UNKNOWN_ERROR";if(console.error({type:a,error:r}),(0,F.isNotionClientError)(r)&&r.code===F.APIErrorCode.RateLimited){const a=Number(r.headers.get("Retry-After"));return this.isRateLimited=!0,this.retryAfterPromise=U.sleep(1e3*a),U.alertRateLimited,yield this.retryAfterPromise,this.isRateLimited=!1,this.retryAfterPromise=null,yield this.makeRequest(e,t)}}}))}makePaginatedRequest(e,t){return D(this,void 0,void 0,(function*(){let r=yield this.makeRequest(e,t);if(B(r)){const a=r.results;for(;B(r)&&r.has_more;)t.start_cursor=r.next_cursor,B(r=yield this.makeRequest(e,t))&&a.push(...r.results);B(r)&&(r.results=a)}return r}))}retrieveMe(){return D(this,void 0,void 0,(function*(){return yield this.makeRequest(this.users.me,{})}))}queryDatabase(e,t){return D(this,void 0,void 0,(function*(){return yield this.makePaginatedRequest(this.databases.query,{database_id:e,filter:t})}))}retrieveDatabase(e){return D(this,void 0,void 0,(function*(){return yield this.makeRequest(this.databases.retrieve,{database_id:e})}))}createPage(e){return D(this,void 0,void 0,(function*(){return yield this.makeRequest(this.pages.create,e)}))}}j.NotionClient=U,U.rateLimits={};var M={},$=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))((function(s,i){function n(e){try{l(a.next(e))}catch(t){i(t)}}function o(e){try{l(a.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,o)}l((a=a.apply(e,t||[])).next())}))},H=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M,"__esModule",{value:!0}),M.getOptions=void 0;const W=H(a),z=t({}),G=r({});function J(){return $(this,void 0,void 0,(function*(){const e=Object.fromEntries(Object.entries(z.CONFIGURATION.FIELDS).map(([e,{defaultValue:t}])=>[e,t]));return yield W.default.storage.local.get(e)}))}function Z(){return $(this,void 0,void 0,(function*(){const e=yield J();Object.entries(e).forEach(([e,t])=>{!function(e,t){const r=document.getElementById(e);r&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&(r.value=t)}(z.CONFIGURATION.FIELDS[e].elementId,t)})}))}function K(e,t){var r;return $(this,void 0,void 0,(function*(){const a=null!==(r=function(e){const t=document.getElementById(e);if(t&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return t.value.trim()||null}(e))&&void 0!==r?r:null;return yield new t(e,a).validate()}))}function Y(){return $(this,void 0,void 0,(function*(){const e=yield function(){return $(this,void 0,void 0,(function*(){const e=Object.fromEntries(yield Promise.all(Object.entries(z.CONFIGURATION.FIELDS).map(([e,{elementId:t,Validator:r}])=>$(this,void 0,void 0,(function*(){const a=yield K(t,r);return[e,a]})))));return Object.values(e).every(e=>e!==G.FieldValidator.INVALID_INPUT)?e:null}))}();e&&(yield W.default.storage.local.set(e),Q&&(Q.innerHTML="Saved!",setTimeout(()=>{Q.innerHTML="Save"},1325)),Z())}))}M.getOptions=function(){return $(this,void 0,void 0,(function*(){const e=yield J();return{timeZone:e.timeZone,canvas:{timeZone:e.timeZone,classNames:{breadcrumbs:e["canvas.classNames.breadcrumbs"],assignment:e["canvas.classNames.assignment"],title:e["canvas.classNames.title"],availableDate:e["canvas.classNames.availableDate"],availableStatus:e["canvas.classNames.availableStatus"],dueDate:e["canvas.classNames.dueDate"],dateElement:e["canvas.classNames.dateElement"]},classValues:{courseCodeN:Number(e["canvas.classValues.courseCodeN"]),notAvailable:e["canvas.classValues.notAvailable"]},selectors:{get courseCode(){return`.${e["canvas.classNames.breadcrumbs"]} li:nth-of-type(${e["canvas.classValues.courseCodeN"]}) span`},get availableStatus(){return`.${e["canvas.classNames.availableDate"]} .${e["canvas.classNames.availableStatus"]}`},get availableDate(){return`.${e["canvas.classNames.availableDate"]} .${e["canvas.classNames.dateElement"]}`},get dueDate(){return`.${e["canvas.classNames.dueDate"]} .${e["canvas.classNames.dateElement"]}`}},courseCodeOverrides:JSON.parse(e["canvas.courseCodeOverrides"])},notion:{timeZone:e.timeZone,notionKey:e["notion.notionKey"],databaseId:e["notion.databaseId"],propertyNames:{name:e["notion.propertyNames.name"],category:e["notion.propertyNames.category"],course:e["notion.propertyNames.course"],url:e["notion.propertyNames.url"],status:e["notion.propertyNames.status"],available:e["notion.propertyNames.available"],due:e["notion.propertyNames.due"],span:e["notion.propertyNames.span"]},propertyValues:{categoryCanvas:e["notion.propertyValues.categoryCanvas"],statusToDo:e["notion.propertyValues.statusToDo"]},courseEmojis:JSON.parse(e["notion.courseEmojis"])}}}))},document.addEventListener("DOMContentLoaded",Z),Object.values(z.CONFIGURATION.FIELDS).forEach(({elementId:e,Validator:t,validateOn:r="input"})=>{var a;null===(a=document.getElementById(e))||void 0===a||a.addEventListener(r,()=>K(e,t))});const Q=document.getElementById("save-button");Q&&Q.addEventListener("click",Y),document.addEventListener("keydown",e=>{e.ctrlKey&&"s"===e.key&&(e.preventDefault(),Y())})}();