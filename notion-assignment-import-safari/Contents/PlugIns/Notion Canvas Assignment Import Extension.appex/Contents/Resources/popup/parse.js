!function(){var e=function(e){var t;return function(r){return t||e(t={exports:{},parent:r},t.exports),t.exports}},t=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIGURATION=void 0;const n=r({});t.CONFIGURATION={get FIELDS(){return delete this.FIELDS,this.FIELDS=Object.fromEntries(Object.entries(t.CONFIGURATION.OPTIONS).flatMap((function e([t,r]){return n=r,["elementId","defaultValue","Validator"].every(e=>Object.keys(n).includes(e))?[[t,r]]:Object.entries(r).flatMap(([r,n])=>e([`${t}.${r}`,n]));var n})))},OPTIONS:{timeZone:{elementId:"timezone",defaultValue:"Pacific/Auckland",Validator:n.TimeZoneField},canvas:{classNames:{breadcrumbs:{elementId:"breadcrumbs",defaultValue:"ic-app-crumbs",Validator:n.RequiredStringField},assignment:{elementId:"assignment-class",defaultValue:"assignment",Validator:n.RequiredStringField},title:{elementId:"assignment-title",defaultValue:"ig-title",Validator:n.RequiredStringField},availableDate:{elementId:"available-date",defaultValue:"assignment-date-available",Validator:n.RequiredStringField},availableStatus:{elementId:"available-status",defaultValue:"status-description",Validator:n.RequiredStringField},dueDate:{elementId:"due-date",defaultValue:"assignment-date-due",Validator:n.RequiredStringField},dateElement:{elementId:"date-element",defaultValue:"screenreader-only",Validator:n.RequiredStringField}},classValues:{courseCodeN:{elementId:"course-code-n",defaultValue:"2",Validator:n.RequiredNumberField},notAvailable:{elementId:"status-not-available",defaultValue:"Not available until",Validator:n.RequiredStringField}},courseCodeOverrides:{elementId:"course-code-overrides",defaultValue:"{}",Validator:n.JSONStringObjectField}},notion:{notionKey:{elementId:"notion-key",defaultValue:null,Validator:n.RequiredNotionKeyField,validateOn:"change"},databaseId:{elementId:"database-id",defaultValue:null,Validator:n.RequiredNotionDatabaseIdField,validateOn:"change"},propertyNames:{name:{elementId:"notion-property-name",defaultValue:"Name",Validator:n.RequiredStringField},category:{elementId:"notion-property-category",defaultValue:"Category",Validator:n.StringField},course:{elementId:"notion-property-course",defaultValue:"Course",Validator:n.StringField},url:{elementId:"notion-property-url",defaultValue:"URL",Validator:n.StringField},status:{elementId:"notion-property-status",defaultValue:"Status",Validator:n.StringField},available:{elementId:"notion-property-available",defaultValue:"Reminder",Validator:n.StringField},due:{elementId:"notion-property-due",defaultValue:"Due",Validator:n.StringField},span:{elementId:"notion-property-span",defaultValue:"Date Span",Validator:n.StringField}},propertyValues:{categoryCanvas:{elementId:"notion-category-canvas",defaultValue:"Canvas",Validator:n.StringField},statusToDo:{elementId:"notion-status-todo",defaultValue:"To Do",Validator:n.StringField}},courseEmojis:{elementId:"course-emojis",defaultValue:"{}",Validator:n.JSONEmojiObjectField}}}}})),r=e((function(e,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function i(e){try{u(n.next(e))}catch(ce){s(ce)}}function o(e){try{u(n.throw(e))}catch(ce){s(ce)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.TimeZoneField=r.JSONEmojiObjectField=r.JSONStringObjectField=r.RequiredNotionDatabaseIdField=r.RequiredNotionKeyField=r.RequiredNumberField=r.RequiredStringField=r.StringField=r.FieldValidator=void 0;const a=t({}),s={button:document.getElementById("save-button"),updateState(e){if(this.button&&this.button instanceof HTMLButtonElement)switch(e){case 0:this.button.innerHTML=`Validating ${i.countValidatingFields()} input${i.countValidatingFields()>1?"s":""}...`,this.button.disabled=!0;break;case 1:this.button.innerHTML=`${i.countInvalidFields()} invalid input${i.countInvalidFields()>1?"s":""}!`,this.button.disabled=!0,this.button.classList.add("red"),this.button.classList.remove("green");break;case 2:if(i.countInvalidFields()>0)return this.updateState(1);if(i.countValidatingFields()>0)return this.updateState(0);this.button.innerHTML="Save",this.button.disabled=!1,this.button.classList.add("green"),this.button.classList.remove("red")}}};class i{constructor(e,t,r,n){this.elementId=e,this.inputValue=t,this.typeGuard=r,this.type=n}static countValidatingFields(){return i.validatingFields.size}static countInvalidFields(){return i.invalidFields.size}validator(){return n(this,void 0,void 0,(function*(){return this.typeGuard(this.inputValue)?this.inputValue:(this.addInvalidError(`Input must be a ${this.type}!`),i.INVALID_INPUT)}))}validate(){return n(this,void 0,void 0,(function*(){this.addValidatingStatus();const e=yield this.validator();return this.removeValidatingStatus(),e!==i.INVALID_INPUT&&this.removeInvalidError(),e}))}addValidatingStatus(){this.removeInvalidError(),i.validatingFields.add(this.elementId);const e=document.getElementById(this.elementId);if(e){const t=document.getElementById("validating-input-"+this.elementId),r=`<span id='validating-input-${this.elementId}' class='validating-input-status'>Validating input...</span>`;t?t.innerHTML=r:e.insertAdjacentHTML("beforebegin",r)}s.updateState(0)}removeValidatingStatus(){var e;i.validatingFields.delete(this.elementId),null===(e=document.getElementById("validating-input-"+this.elementId))||void 0===e||e.remove(),s.updateState(2)}addInvalidError(e){i.invalidFields.add(this.elementId);const t=document.getElementById(this.elementId);if(t){t.classList.add("invalid-input");const r=document.getElementById("invalid-input-"+this.elementId),n=`<span id='invalid-input-${this.elementId}' class='invalid-input-error'>${e}</span>`;r?r.innerHTML=n:t.insertAdjacentHTML("beforebegin",n)}s.updateState(1)}removeInvalidError(){var e,t;i.invalidFields.delete(this.elementId),null===(e=document.getElementById(this.elementId))||void 0===e||e.classList.remove("invalid-input"),null===(t=document.getElementById("invalid-input-"+this.elementId))||void 0===t||t.remove(),s.updateState(2)}}r.FieldValidator=i,i.INVALID_INPUT=Symbol("INVALID_INPUT"),i.validatingFields=new Set,i.invalidFields=new Set;class o extends i{validator(){return n(this,void 0,void 0,(function*(){if(this.inputValue){if(this.typeGuard(this.inputValue))return this.inputValue;this.addInvalidError(`Input must be a ${this.type}!`)}else this.addInvalidError("Required field cannot be empty!");return i.INVALID_INPUT}))}}class u extends o{getCachedInput(){var e;return null===(e=u.cache)||void 0===e?void 0:e[this.elementId]}cacheInput(e){return u.cache[this.elementId]=e}}u.cache={};class d extends i{validator(){var e,t;return n(this,void 0,void 0,(function*(){try{if(!this.inputValue)return"{}";const r=JSON.parse(this.inputValue);if(r instanceof Object&&!Array.isArray(r)){if(Object.values(r).every(this.typeGuard))return null===(t=null===(e=document.getElementById(this.elementId))||void 0===e?void 0:e.classList)||void 0===t||t.remove("invalid-input"),this.inputValue;this.addInvalidError(`All object values must be ${this.type}s!`)}else this.addInvalidError("Input must be an object <code>{}</code>.");return i.INVALID_INPUT}catch(r){return this.addInvalidError("Input is not valid <code>JSON</code>."),i.INVALID_INPUT}}))}}const l=e=>"string"==typeof e||null===e,c=e=>"string"==typeof e,m=e=>"string"==typeof e&&!isNaN(Number(e)),h=e=>"string"==typeof e&&/^[\p{Emoji_Presentation}\u200D]+$/u.test(e);r.StringField=class extends i{constructor(e,t){super(e,t,l,"string")}},r.RequiredStringField=class extends o{constructor(e,t){super(e,t,c,"string")}},r.RequiredNumberField=class extends o{constructor(e,t){super(e,t,m,"number")}},r.RequiredNotionKeyField=class extends u{constructor(e,t){super(e,t,c,"string")}validator(){const e=Object.create(null,{validator:{get:()=>super.validator}});return n(this,void 0,void 0,(function*(){if(this.getCachedInput()===this.inputValue)return this.inputValue;if((yield e.validator.call(this))===this.inputValue)if(navigator.onLine){const e=new ra.NotionClient({auth:this.inputValue});if(yield e.retrieveMe())return this.cacheInput(this.inputValue);this.addInvalidError("Input is not a valid Notion Integration Key.")}else this.addInvalidError("Please connect to the Internet to validate this input.");return i.INVALID_INPUT}))}},r.RequiredNotionDatabaseIdField=class extends u{constructor(e,t){super(e,t,c,"string")}getNotionKey(){return n(this,void 0,void 0,(function*(){const e=a.CONFIGURATION.FIELDS["notion.notionKey"],t=document.getElementById(e.elementId);if(t&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)){const r=t.value.trim()||null;if(r){const t=new e.Validator(e.elementId,r);if(t instanceof u&&t.getCachedInput()===r)return r;const n=yield new e.Validator(e.elementId,r).validate();if(n!==i.INVALID_INPUT)return n}}return null}))}validator(){const e=Object.create(null,{validator:{get:()=>super.validator}});return n(this,void 0,void 0,(function*(){if(this.getCachedInput()===this.inputValue)return this.inputValue;if((yield e.validator.call(this))===this.inputValue){const e=yield this.getNotionKey();if(e)if(navigator.onLine){const t=new ra.NotionClient({auth:e});if(yield t.retrieveDatabase(this.inputValue))return this.cacheInput(this.inputValue);this.addInvalidError("Could not find the database.<br>Verify the ID and make sure the database is shared with your integration.")}else this.addInvalidError("Please connect to the Internet to validate this input.");else this.addInvalidError("Invalid Notion Integration Key.")}return i.INVALID_INPUT}))}},r.JSONStringObjectField=class extends d{constructor(e,t){super(e,t,c,"string")}},r.JSONEmojiObjectField=class extends d{constructor(e,t){super(e,t,h,"emoji")}},r.TimeZoneField=class extends i{constructor(e,t){super(e,t,l,"string")}validator(){const e=Object.create(null,{validator:{get:()=>super.validator}});return n(this,void 0,void 0,(function*(){if(!this.inputValue)return null;if((yield e.validator.call(this))===this.inputValue)try{return Intl.DateTimeFormat(void 0,{timeZone:this.inputValue}),this.inputValue}catch(t){this.addInvalidError("Invalid time zone.")}return i.INVALID_INPUT}))}}})),n=e((function(e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.parseDate=t.casual=t.Meridiem=void 0;const i=s(F({})),o=z({});var u;Object.defineProperty(t,"Chrono",{enumerable:!0,get:function(){return o.Chrono}}),(u=t.Meridiem||(t.Meridiem={}))[u.AM=0]="AM",u[u.PM=1]="PM";s(j({})),s(I({})),s(x({})),s(A({})),s(d({})),s(a({}));i.strict,t.casual=i.casual,t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)}})),a=e((function(e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hans=void 0,n(o({}),t);var a=s({});Object.defineProperty(t,"hans",{enumerable:!0,get:function(){return a.hans}})})),s=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hans=void 0;const n=z({}),a=r(Ve),s=r(Kr),o=r(Qr),u=r(tn),d=r(sn),l=r(ln),c=r(gn),m=r(vn),h=r(i({}));function f(){const e=g();return e.parsers.unshift(new s.default),e}function g(){const e=tt.includeCommonConfiguration({parsers:[new o.default,new d.default,new c.default,new l.default,new u.default],refiners:[new m.default,new h.default]});return e.refiners=e.refiners.filter(e=>!(e instanceof a.default)),e}t.hans=new n.Chrono(f()),new n.Chrono(f()),new n.Chrono(g())})),i=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(Q({}));t.default=class extends n.default{patternBetween(){return/^\s*$/i}}})),o=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=t.hant=void 0;const n=z({}),a=r(Ve),s=r(_r),i=r(xr),o=r(Nr),d=r(Or),l=r(jr),c=r(Yr),m=r(Vr),h=r(u({}));function f(){const e=g();return e.parsers.unshift(new s.default),e}function g(){const e=tt.includeCommonConfiguration({parsers:[new i.default,new d.default,new c.default,new l.default,new o.default],refiners:[new m.default,new h.default]});return e.refiners=e.refiners.filter(e=>!(e instanceof a.default)),e}t.hant=new n.Chrono(f()),t.casual=new n.Chrono(f()),t.strict=new n.Chrono(g()),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=f,t.createConfiguration=g})),u=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(Q({}));t.default=class extends n.default{patternBetween(){return/^\s*$/i}}})),d=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const n=z({}),a=r(nr),s=r(v({})),i=r(T({})),o=r(y({})),u=r(pt),d=r(p({})),A=r(cr),_=r(hr),b=r(gr),P=r(yr),M=r(g({})),x=r(vr),E=r(f({})),I=r(h({})),N=r(m({})),R=r(c({})),C=r(l({}));function w(e=!0){const t=O(!1,e);return t.parsers.unshift(new i.default),t.parsers.unshift(new o.default),t.parsers.unshift(new E.default),t.parsers.unshift(new b.default),t.parsers.unshift(new N.default),t.parsers.unshift(new I.default),t}function O(e=!0,t=!0){return tt.includeCommonConfiguration({parsers:[new u.default(t),new d.default,new _.default,new b.default,new A.default,new x.default,new P.default,new M.default(e),new R.default(e),new C.default(e)],refiners:[new s.default,new a.default]},e)}t.casual=new n.Chrono(w()),t.strict=new n.Chrono(O(!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=w,t.createConfiguration=O})),l=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({}),n=new RegExp("("+ir.TIME_UNITS_PATTERN+")(later|na|vanaf nu|voortaan|vooruit|uit)(?=(?:\\W|$))","i"),a=new RegExp("("+ir.TIME_UNITS_PATTERN+")(later|vanaf nu)(?=(?:\\W|$))","i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?a:n}innerExtract(e,t){const n=ir.parseTimeUnits(t[1]);return r.ParsingComponents.createRelativeFromReference(e.reference,n)}}})),c=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({}),n=new RegExp("("+ir.TIME_UNITS_PATTERN+")(?:geleden|voor|eerder)(?=(?:\\W|$))","i"),a=new RegExp("("+ir.TIME_UNITS_PATTERN+")geleden(?=(?:\\W|$))","i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?a:n}innerExtract(e,t){const n=ir.parseTimeUnits(t[1]),a=je.reverseTimeUnits(n);return r.ParsingComponents.createRelativeFromReference(e.reference,a)}}})),m=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=se({}),a=r(me),s=new RegExp(`(dit|deze|komende|volgend|volgende|afgelopen|vorige)\\s*(${ue.matchAnyPattern(ir.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return s}innerExtract(e,t){const r=t[1].toLowerCase(),s=t[2].toLowerCase(),i=ir.TIME_UNIT_DICTIONARY[s];if("volgend"==r||"volgende"==r||"komende"==r){const t={};return t[i]=1,n.ParsingComponents.createRelativeFromReference(e.reference,t)}if("afgelopen"==r||"vorige"==r){const t={};return t[i]=-1,n.ParsingComponents.createRelativeFromReference(e.reference,t)}const o=e.createParsingComponents();let u=a.default(e.reference.instant);return s.match(/week/i)?(u=u.add(-u.get("d"),"d"),o.imply("day",u.date()),o.imply("month",u.month()+1),o.imply("year",u.year())):s.match(/maand/i)?(u=u.add(1-u.date(),"d"),o.imply("day",u.date()),o.assign("year",u.year()),o.assign("month",u.month()+1)):s.match(/jaar/i)&&(u=(u=u.add(1-u.date(),"d")).add(-u.month(),"month"),o.imply("day",u.date()),o.imply("month",u.month()+1),o.assign("year",u.year())),o}}})),h=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({}),n=new RegExp(`(deze|vorige|afgelopen|komende|over|\\+|-)\\s*(${ir.TIME_UNITS_PATTERN})(?=\\W|$)`,"i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return n}innerExtract(e,t){const n=t[1].toLowerCase();let a=ir.parseTimeUnits(t[2]);switch(n){case"vorige":case"afgelopen":case"-":a=je.reverseTimeUnits(a)}return r.ParsingComponents.createRelativeFromReference(e.reference,a)}}})),f=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n({}),s=ie({}),i=r(me);t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(e,t){const r=t[1].toLowerCase(),n=t[2].toLowerCase(),o=e.createParsingComponents(),u=i.default(e.refDate);switch(r){case"gisteren":s.assignSimilarDate(o,u.add(-1,"day"));break;case"van":s.assignSimilarDate(o,u);break;case"morgen":s.assignTheNextDay(o,u)}switch(n){case"ochtend":o.imply("meridiem",a.Meridiem.AM),o.imply("hour",6);break;case"middag":o.imply("meridiem",a.Meridiem.AM),o.imply("hour",12);break;case"namiddag":o.imply("meridiem",a.Meridiem.PM),o.imply("hour",15);break;case"avond":o.imply("meridiem",a.Meridiem.PM),o.imply("hour",20)}return o}}})),g=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=ne({});t.default=class extends r.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301c|om|\\?)\\s*"}primarySuffix(){return"(?:\\s*(?:uur))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}}})),p=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({});t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+ir.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(e,t){const n=ir.parseTimeUnits(t[1]);return r.ParsingComponents.createRelativeFromReference(e.reference,n)}}})),y=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n({}),s=r(me),i=ie({});t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(e,t){const r=s.default(e.refDate),n=e.createParsingComponents();switch("deze"===t[1]&&(n.assign("day",e.refDate.getDate()),n.assign("month",e.refDate.getMonth()+1),n.assign("year",e.refDate.getFullYear())),t[2].toLowerCase()){case"namiddag":case"'s namiddags":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",15);break;case"avond":case"'s avonds'":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",20);break;case"middernacht":i.assignTheNextDay(n,r),n.imply("hour",0),n.imply("minute",0),n.imply("second",0);break;case"ochtend":case"'s ochtends":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",6);break;case"middag":case"'s middags":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",12)}return n}}})),T=e((function(e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=a(Z({}));t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(e,t){const r=t[0].toLowerCase(),n=e.createParsingComponents();switch(r){case"nu":return s.now(e.reference);case"vandaag":return s.today(e.reference);case"morgen":case"morgend":return s.tomorrow(e.reference);case"gisteren":return s.yesterday(e.reference)}return n}}})),v=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(Q({}));t.default=class extends n.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}}})),A=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const n=z({}),a=r(pt),s=r(Zt),i=r(M({})),o=r(P({})),u=r(Qt),d=r(tr),l=r(b({})),c=r(_({}));function m(e=!0){const t=h(!1,e);return t.parsers.push(new l.default),t.parsers.push(new c.default),t}function h(e=!0,t=!0){return tt.includeCommonConfiguration({parsers:[new a.default(t),new s.default,new i.default,new d.default],refiners:[new o.default,new u.default]},e)}t.casual=new n.Chrono(m()),t.strict=new n.Chrono(h(!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=m,t.createConfiguration=h})),_=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n({}),s=ie({}),i=r(me);t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manh\xe3|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(e,t){const r=i.default(e.refDate),n=e.createParsingComponents();switch(t[1].toLowerCase()){case"tarde":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",15);break;case"noite":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",22);break;case"manha":case"manh\xe3":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",6);break;case"meia-noite":s.assignTheNextDay(n,r),n.imply("hour",0),n.imply("minute",0),n.imply("second",0);break;case"meio-dia":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",12)}return n}}})),b=e((function(e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=a(Z({}));t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(agora|hoje|amanha|amanh\xe3|ontem)(?=\W|$)/i}innerExtract(e,t){const r=t[0].toLowerCase(),n=e.createParsingComponents();switch(r){case"agora":return s.now(e.reference);case"hoje":return s.today(e.reference);case"amanha":case"amanh\xe3":return s.tomorrow(e.reference);case"ontem":return s.yesterday(e.reference)}return n}}})),P=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(Q({}));t.default=class extends n.default{patternBetween(){return new RegExp("^\\s*(?:,|\xe0)?\\s*$")}}})),M=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=ne({});t.default=class extends r.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|\xe0s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301c|a(?:o)?|\\?)\\s*"}}})),x=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const n=r(Ut),a=r(zt),s=r(E({})),i=z({});function o(){const e=u();return e.parsers.unshift(new s.default),e}function u(){return{parsers:[new n.default],refiners:[new a.default]}}t.casual=new i.Chrono(o()),t.strict=new i.Chrono(u()),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=o,t.createConfiguration=u})),E=e((function(e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(me),u=n({}),d=s(Z({})),l=/\u4eca\u65e5|\u5f53\u65e5|\u6628\u65e5|\u660e\u65e5|\u4eca\u591c|\u4eca\u5915|\u4eca\u6669|\u4eca\u671d/i;t.default=class{pattern(){return l}extract(e,t){const r=t[0],n=o.default(e.refDate),a=e.createParsingComponents();switch(r){case"\u6628\u65e5":return d.yesterday(e.reference);case"\u660e\u65e5":return d.tomorrow(e.reference);case"\u4eca\u65e5":case"\u5f53\u65e5":return d.today(e.reference)}return"\u4eca\u591c"==r||"\u4eca\u5915"==r||"\u4eca\u6669"==r?(a.imply("hour",22),a.assign("meridiem",u.Meridiem.PM)):r.match("\u4eca\u671d")&&(a.imply("hour",6),a.assign("meridiem",u.Meridiem.AM)),a.assign("day",n.date()),a.assign("month",n.month()+1),a.assign("year",n.year()),a}}})),I=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const n=z({}),a=r(k({})),s=r(S({})),i=r(pt),o=r(D({})),u=r(O({})),d=r(Nt),l=r(jt),c=r(w({})),m=r(Wt),h=r(C({})),f=r(R({})),g=r(N({}));function p(e=!0){const t=y(!1,e);return t.parsers.unshift(new a.default),t.parsers.unshift(new s.default),t.parsers.unshift(new g.default),t}function y(e=!0,t=!0){return tt.includeCommonConfiguration({parsers:[new i.default(t),new m.default,new o.default,new c.default,new h.default,new f.default,new l.default],refiners:[new u.default,new d.default]},e)}t.casual=new n.Chrono(p()),t.strict=new n.Chrono(y(!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=p,t.createConfiguration=y})),N=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({});t.default=class extends xe.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${wt.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[e\xe8]re?s?|pass[\xe9e]e?s?|pr[\xe9e]c[\xe9e]dents?|suivante?s?))?\\s*(${ue.matchAnyPattern(wt.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[e\xe8]re?s?|pass[\xe9e]e?s?|pr[\xe9e]c[\xe9e]dents?|suivante?s?))?`,"i")}innerExtract(e,t){const n=t[1]?wt.parseNumberPattern(t[1]):1;let a={};a[wt.TIME_UNIT_DICTIONARY[t[3].toLowerCase()]]=n;let s=t[2]||t[4]||"";if(s=s.toLowerCase())return(/derni[e\xe8]re?s?/.test(s)||/pass[\xe9e]e?s?/.test(s)||/pr[\xe9e]c[\xe9e]dents?/.test(s))&&(a=je.reverseTimeUnits(a)),r.ParsingComponents.createRelativeFromReference(e.reference,a)}}})),R=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({});t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant)\\s*(${wt.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(e,t){const n=wt.parseTimeUnits(t[1]);return r.ParsingComponents.createRelativeFromReference(e.reference,n)}}})),C=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({});t.default=class extends xe.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${wt.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(e,t){const n=wt.parseTimeUnits(t[1]),a=je.reverseTimeUnits(n);return r.ParsingComponents.createRelativeFromReference(e.reference,a)}}})),w=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n({}),a=new RegExp("(^|\\s|T)(?:(?:[\xe0a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),s=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301c|[\xe0a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i");class i{pattern(e){return a}extract(e,t){const r=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(r.text.match(/^\d{4}$/))return t.index+=t[0].length,null;if(r.start=i.extractTimeComponent(r.start.clone(),t),!r.start)return t.index+=t[0].length,null;const n=e.text.substring(t.index+t[0].length),a=s.exec(n);return a&&(r.end=i.extractTimeComponent(r.start.clone(),a),r.end&&(r.text+=a[0])),r}static extractTimeComponent(e,t){let n=0,a=0,s=null;if(n=parseInt(t[2]),null!=t[3]&&(a=parseInt(t[3])),a>=60||n>24)return null;if(n>=12&&(s=r.Meridiem.PM),null!=t[5]){if(n>12)return null;const e=t[5][0].toLowerCase();"a"==e&&(s=r.Meridiem.AM,12==n&&(n=0)),"p"==e&&(s=r.Meridiem.PM,12!=n&&(n+=12))}if(e.assign("hour",n),e.assign("minute",a),null!==s?e.assign("meridiem",s):n<12?e.imply("meridiem",r.Meridiem.AM):e.imply("meridiem",r.Meridiem.PM),null!=t[4]){const r=parseInt(t[4]);if(r>=60)return null;e.assign("second",r)}return e}}t.default=i})),O=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(Q({}));t.default=class extends n.default{patternBetween(){return new RegExp("^\\s*(T|\xe0|a|vers|de|,|-)?\\s*$")}}})),D=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=ne({});t.default=class extends r.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[\xe0a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301c|[\xe0a]|\\?)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}}})),S=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n({});t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(cet?)?\s*(matin|soir|apr\xe8s-midi|aprem|a midi|\xe0 minuit)(?=\W|$)/i}innerExtract(e,t){const n=t[2].toLowerCase(),a=e.createParsingComponents();switch(n){case"apr\xe8s-midi":case"aprem":a.imply("hour",14),a.imply("minute",0),a.imply("meridiem",r.Meridiem.PM);break;case"soir":a.imply("hour",18),a.imply("minute",0),a.imply("meridiem",r.Meridiem.PM);break;case"matin":a.imply("hour",8),a.imply("minute",0),a.imply("meridiem",r.Meridiem.AM);break;case"a midi":a.imply("hour",12),a.imply("minute",0),a.imply("meridiem",r.Meridiem.AM);break;case"\xe0 minuit":a.imply("hour",0),a.imply("meridiem",r.Meridiem.AM)}return a}}})),k=e((function(e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(me),u=n({}),d=ie({}),l=s(Z({}));t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(e,t){let r=o.default(e.refDate);const n=t[0].toLowerCase(),a=e.createParsingComponents();switch(n){case"maintenant":return l.now(e.reference);case"aujourd'hui":return l.today(e.reference);case"hier":return l.yesterday(e.reference);case"demain":return l.tomorrow(e.reference);default:n.match(/cette\s*nuit/)?(d.assignSimilarDate(a,r),a.imply("hour",22),a.imply("meridiem",u.Meridiem.PM)):n.match(/la\s*veille/)&&(r=r.add(-1,"day"),d.assignSimilarDate(a,r),a.imply("hour",0))}return a}}})),j=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.strict=t.casual=void 0;const n=z({}),a=r(pt),s=r(Qe),i=r(U({})),o=r(_t),u=r(Y({})),d=r(Pt),l=r(B({})),c=r(W({})),m=r(L({})),h=r(Et),f=r($({}));function g(e=!0){const t=p(!1,e);return t.parsers.unshift(new m.default),t.parsers.unshift(new c.default),t.parsers.unshift(new f.default),t}function p(e=!0,t=!0){return tt.includeCommonConfiguration({parsers:[new s.default,new a.default(t),new i.default,new u.default,new h.default,new o.default],refiners:[new d.default,new l.default]},e)}t.casual=new n.Chrono(g()),t.strict=new n.Chrono(p(!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=g,t.createConfiguration=p})),$=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({});t.default=class extends xe.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xe4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${Tt.NUMBER_PATTERN})?(?:\\s*(n\xe4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${ue.matchAnyPattern(Tt.TIME_UNIT_DICTIONARY)})`,"i")}innerExtract(e,t){const n=t[2]?Tt.parseNumberPattern(t[2]):1;let a={};a[Tt.TIME_UNIT_DICTIONARY[t[4].toLowerCase()]]=n;let s=t[1]||t[3]||"";if(s=s.toLowerCase())return(/vor/.test(s)||/letzte/.test(s)||/vergangen/.test(s))&&(a=je.reverseTimeUnits(a)),r.ParsingComponents.createRelativeFromReference(e.reference,a)}}})),W=e((function(e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(me),o=ie({}),u=s(L({})),d=a(Z({})),l=new RegExp("(jetzt|heute|morgen|\xfcbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return l}innerExtract(e,t){let r=i.default(e.refDate);const n=(t[1]||"").toLowerCase(),a=(t[2]||"").toLowerCase();let s=e.createParsingComponents();switch(n){case"jetzt":s=d.now(e.reference);break;case"heute":s=d.today(e.reference);break;case"morgen":o.assignTheNextDay(s,r);break;case"\xfcbermorgen":case"uebermorgen":r=r.add(1,"day"),o.assignTheNextDay(s,r);break;case"gestern":r=r.add(-1,"day"),o.assignSimilarDate(s,r),o.implySimilarTime(s,r);break;case"vorgestern":r=r.add(-2,"day"),o.assignSimilarDate(s,r),o.implySimilarTime(s,r);break;default:n.match(/letzte\s*nacht/)&&(r.hour()>6&&(r=r.add(-1,"day")),o.assignSimilarDate(s,r),s.imply("hour",0))}return a&&(s=u.default.extractTimeComponents(s,a)),s}}})),L=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(me),s=n({}),i=ie({});class o extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(e,t){const r=a.default(e.refDate),n=t[2].toLowerCase(),s=e.createParsingComponents();return i.implySimilarTime(s,r),o.extractTimeComponents(s,n)}static extractTimeComponents(e,t){switch(t){case"morgen":e.imply("hour",6),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.AM);break;case"vormittag":e.imply("hour",9),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.AM);break;case"mittag":case"mittags":e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.AM);break;case"nachmittag":e.imply("hour",15),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.PM);break;case"abend":e.imply("hour",18),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.PM);break;case"nacht":e.imply("hour",22),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.PM);break;case"mitternacht":e.get("hour")>1&&(e=je.addImpliedTimeUnits(e,{day:1})),e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",s.Meridiem.AM)}return e}}t.default=o})),B=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(Q({}));t.default=class extends n.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}}})),Y=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n({}),a=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),s=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301c|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i");class i{pattern(e){return a}extract(e,t){const r=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(r.text.match(/^\d{4}$/))return t.index+=t[0].length,null;if(r.start=i.extractTimeComponent(r.start.clone(),t),!r.start)return t.index+=t[0].length,null;const n=e.text.substring(t.index+t[0].length),a=s.exec(n);return a&&(r.end=i.extractTimeComponent(r.start.clone(),a),r.end&&(r.text+=a[0])),r}static extractTimeComponent(e,t){let n=0,a=0,s=null;if(n=parseInt(t[2]),null!=t[3]&&(a=parseInt(t[3])),a>=60||n>24)return null;if(n>=12&&(s=r.Meridiem.PM),null!=t[5]){if(n>12)return null;const e=t[5].toLowerCase();e.match(/morgen|vormittag/)&&(s=r.Meridiem.AM,12==n&&(n=0)),e.match(/nachmittag|abend/)&&(s=r.Meridiem.PM,12!=n&&(n+=12)),e.match(/nacht/)&&(12==n?(s=r.Meridiem.AM,n=0):n<6?s=r.Meridiem.AM:(s=r.Meridiem.PM,n+=12))}if(e.assign("hour",n),e.assign("minute",a),null!==s?e.assign("meridiem",s):n<12?e.imply("meridiem",r.Meridiem.AM):e.imply("meridiem",r.Meridiem.PM),null!=t[4]){const r=parseInt(t[4]);if(r>=60)return null;e.assign("second",r)}return e}}t.default=i})),U=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=ne({});t.default=class extends r.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301c|bis)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}}})),F=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfiguration=t.createCasualConfiguration=t.parseDate=t.parse=t.GB=t.strict=t.casual=void 0;const n=r(ae({})),a=r(Ee),s=r(Ne),i=r(Ce),o=r(Oe),u=r(Se),d=r(re({})),l=r(te({})),c=r(ee({})),m=r(Le),h=r(J({})),f=r(G({})),g=r(K({})),p=r(ft),y=r(H({})),T=z({}),v=r(pt),A=r(V({})),_=r(q({}));function b(e=!1){const t=P(!1,e);return t.parsers.unshift(new f.default),t.parsers.unshift(new g.default),t.parsers.unshift(new i.default),t.parsers.unshift(new y.default),t.parsers.unshift(new A.default),t}function P(e=!0,t=!1){return tt.includeCommonConfiguration({parsers:[new v.default(t),new n.default,new a.default,new s.default,new p.default,new o.default,new u.default,new d.default(e),new l.default(e),new c.default(e)],refiners:[new _.default,new h.default,new m.default]},e)}t.casual=new T.Chrono(b(!1)),t.strict=new T.Chrono(P(!0,!1)),t.GB=new T.Chrono(P(!1,!0)),t.parse=function(e,r,n){return t.casual.parse(e,r,n)},t.parseDate=function(e,r,n){return t.casual.parseDate(e,r,n)},t.createCasualConfiguration=b,t.createConfiguration=P})),q=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({});function n(e){return null!=e.text.match(/\s+(before|from)$/i)}t.default=class extends $e.MergingRefiner{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,r){return!(!e.match(this.patternBetween())||!n(t)&&(a=t,null==a.text.match(/\s+(after|since)$/i))||!r.start.get("day")||!r.start.get("month")||!r.start.get("year"));var a}mergeResults(e,t,a){let s=pe.parseTimeUnits(t.text);n(t)&&(s=je.reverseTimeUnits(s));const i=r.ParsingComponents.createRelativeFromReference(new r.ReferenceWithTimezone(a.start.date()),s);return new r.ParsingResult(a.reference,t.index,`${t.text}${e}${a.text}`,i)}}})),V=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({}),n=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${pe.TIME_UNITS_PATTERN})(?=\\W|$)`,"i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return n}innerExtract(e,t){const n=t[1].toLowerCase();let a=pe.parseTimeUnits(t[2]);switch(n){case"last":case"past":case"-":a=je.reverseTimeUnits(a)}return r.ParsingComponents.createRelativeFromReference(e.reference,a)}}})),z=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrono=void 0;const r=se({}),n=F({});class a{constructor(e){e=e||n.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new a({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,r){const n=this.parse(e,t,r);return n.length>0?n[0].start.date():null}parse(e,t,r){const n=new s(e,t,r);let i=[];return this.parsers.forEach(e=>{const t=a.executeParser(n,e);i=i.concat(t)}),i.sort((e,t)=>e.index-t.index),this.refiners.forEach((function(e){i=e.refine(n,i)})),i}static executeParser(e,t){const n=[],a=t.pattern(e),s=e.text;let i=e.text,o=a.exec(i);for(;o;){const u=o.index+s.length-i.length;o.index=u;const d=t.extract(e,o);if(!d){i=s.substring(o.index+1),o=a.exec(i);continue}let l=null;d instanceof r.ParsingResult?l=d:d instanceof r.ParsingComponents?(l=e.createParsingResult(o.index,o[0])).start=d:l=e.createParsingResult(o.index,o[0],d),e.debug(()=>console.log(`${t.constructor.name} extracted result ${l}`)),n.push(l),i=s.substring(u+l.text.length),o=a.exec(i)}return n}}t.Chrono=a;class s{constructor(e,t,n){this.text=e,this.reference=new r.ReferenceWithTimezone(t),this.option=null!=n?n:{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof r.ParsingComponents?e:new r.ParsingComponents(this.reference,e)}createParsingResult(e,t,n,a){const s="string"==typeof t?t:this.text.substring(e,t),i=n?this.createParsingComponents(n):null,o=a?this.createParsingComponents(a):null;return new r.ParsingResult(this.reference,e,s,i,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}}})),H=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=se({}),a=r(me),s=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${ue.matchAnyPattern(pe.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return s}innerExtract(e,t){const r=t[1].toLowerCase(),s=t[2].toLowerCase(),i=pe.TIME_UNIT_DICTIONARY[s];if("next"==r||r.startsWith("after")){const t={};return t[i]=1,n.ParsingComponents.createRelativeFromReference(e.reference,t)}if("last"==r||"past"==r){const t={};return t[i]=-1,n.ParsingComponents.createRelativeFromReference(e.reference,t)}const o=e.createParsingComponents();let u=a.default(e.reference.instant);return s.match(/week/i)?(u=u.add(-u.get("d"),"d"),o.imply("day",u.date()),o.imply("month",u.month()+1),o.imply("year",u.year())):s.match(/month/i)?(u=u.add(1-u.date(),"d"),o.imply("day",u.date()),o.assign("year",u.year()),o.assign("month",u.month()+1)):s.match(/year/i)&&(u=(u=u.add(1-u.date(),"d")).add(-u.month(),"month"),o.imply("day",u.date()),o.imply("month",u.month()+1),o.assign("year",u.year())),o}}})),K=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n({}),s=r(me),i=ie({}),o=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i;t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return o}innerExtract(e,t){const r=s.default(e.refDate),n=e.createParsingComponents();switch(t[1].toLowerCase()){case"afternoon":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",15);break;case"evening":case"night":n.imply("meridiem",a.Meridiem.PM),n.imply("hour",20);break;case"midnight":i.assignTheNextDay(n,r),n.imply("hour",0),n.imply("minute",0),n.imply("second",0);break;case"morning":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",6);break;case"noon":n.imply("meridiem",a.Meridiem.AM),n.imply("hour",12)}return n}}})),G=e((function(e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(me),o=ie({}),u=a(Z({})),d=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i;t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return d}innerExtract(e,t){let r=i.default(e.refDate);const n=t[0].toLowerCase(),a=e.createParsingComponents();switch(n){case"now":return u.now(e.reference);case"today":return u.today(e.reference);case"yesterday":return u.yesterday(e.reference);case"tomorrow":case"tmr":case"tmrw":return u.tomorrow(e.reference);case"tonight":return u.tonight(e.reference);default:n.match(/last\s*night/)&&(r.hour()>6&&(r=r.add(-1,"day")),o.assignSimilarDate(a,r),a.imply("hour",0))}return a}}})),Z=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tonight=t.tomorrow=t.yesterday=t.today=t.now=void 0;const a=se({}),s=r(me),i=ie({}),o=n({});t.now=function(e){const t=s.default(e.instant),r=new a.ParsingComponents(e,{});return i.assignSimilarDate(r,t),i.assignSimilarTime(r,t),null!==e.timezoneOffset&&r.assign("timezoneOffset",t.utcOffset()),r},t.today=function(e){const t=s.default(e.instant),r=new a.ParsingComponents(e,{});return i.assignSimilarDate(r,t),i.implySimilarTime(r,t),r},t.yesterday=function(e){let t=s.default(e.instant);const r=new a.ParsingComponents(e,{});return t=t.add(-1,"day"),i.assignSimilarDate(r,t),i.implySimilarTime(r,t),r},t.tomorrow=function(e){const t=s.default(e.instant),r=new a.ParsingComponents(e,{});return i.assignTheNextDay(r,t),r},t.tonight=function(e,t=22){const r=s.default(e.instant),n=new a.ParsingComponents(e,{});return n.imply("hour",t),n.imply("meridiem",o.Meridiem.PM),i.assignSimilarDate(n,r),n}})),J=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(Q({}));t.default=class extends n.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}}})),Q=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=X({});t.default=class extends $e.MergingRefiner{shouldMergeResults(e,t,r){return(t.start.isOnlyDate()&&r.start.isOnlyTime()||r.start.isOnlyDate()&&t.start.isOnlyTime())&&null!=e.match(this.patternBetween())}mergeResults(e,t,n){const a=t.start.isOnlyDate()?r.mergeDateTimeResult(t,n):r.mergeDateTimeResult(n,t);return a.index=t.index,a.text=t.text+e+n.text,a}}})),X=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDateTimeResult=void 0;const r=n({});function a(e,t){const n=e.clone();return t.isCertain("hour")?(n.assign("hour",t.get("hour")),n.assign("minute",t.get("minute")),t.isCertain("second")?(n.assign("second",t.get("second")),t.isCertain("millisecond")?n.assign("millisecond",t.get("millisecond")):n.imply("millisecond",t.get("millisecond"))):(n.imply("second",t.get("second")),n.imply("millisecond",t.get("millisecond")))):(n.imply("hour",t.get("hour")),n.imply("minute",t.get("minute")),n.imply("second",t.get("second")),n.imply("millisecond",t.get("millisecond"))),t.isCertain("timezoneOffset")&&n.assign("timezoneOffset",t.get("timezoneOffset")),t.isCertain("meridiem")?n.assign("meridiem",t.get("meridiem")):null!=t.get("meridiem")&&null==n.get("meridiem")&&n.imply("meridiem",t.get("meridiem")),n.get("meridiem")==r.Meridiem.PM&&n.get("hour")<12&&(t.isCertain("hour")?n.assign("hour",n.get("hour")+12):n.imply("hour",n.get("hour")+12)),n}t.mergeDateTimeResult=function(e,t){const r=e.clone(),n=e.start,s=t.start;if(r.start=a(n,s),null!=e.end||null!=t.end){const n=a(null==e.end?e.start:e.end,null==t.end?t.start:t.end);null==e.end&&n.date().getTime()<r.start.date().getTime()&&(n.isCertain("day")?n.assign("day",n.get("day")+1):n.imply("day",n.get("day")+1)),r.end=n}return r}})),ee=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({}),n=new RegExp(`(${pe.TIME_UNITS_PATTERN})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),a=new RegExp("("+pe.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?a:n}innerExtract(e,t){const n=pe.parseTimeUnits(t[1]);return r.ParsingComponents.createRelativeFromReference(e.reference,n)}}})),te=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({}),n=new RegExp(`(${pe.TIME_UNITS_PATTERN})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),a=new RegExp(`(${pe.TIME_UNITS_PATTERN})\\s{0,5}ago(?=(?:\\W|$))`,"i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?a:n}innerExtract(e,t){const n=pe.parseTimeUnits(t[1]),a=je.reverseTimeUnits(n);return r.ParsingComponents.createRelativeFromReference(e.reference,a)}}})),re=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n({}),a=ne({});t.default=class extends a.AbstractTimeExpressionParser{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301c|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){const n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("night")){const e=n.get("hour");e>=6&&e<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",r.Meridiem.PM)):e<6&&n.assign("meridiem",r.Meridiem.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",r.Meridiem.PM);const e=n.get("hour");e>=0&&e<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("morning")&&(n.assign("meridiem",r.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}}})),ne=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractTimeExpressionParser=void 0;const r=n({});t.AbstractTimeExpressionParser=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){const r=this.extractPrimaryTimeComponents(e,t);if(!r)return t.index+=t[0].length,null;const n=t.index+t[1].length,a=t[0].substring(t[1].length),s=e.createParsingResult(n,a,r);t.index+=t[0].length;const i=e.text.substring(t.index),o=this.getFollowingTimePatternThroughCache().exec(i);return!o||o[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(s):(s.end=this.extractFollowingTimeComponents(e,o,s),s.end&&(s.text+=o[0]),this.checkAndReturnWithFollowingPattern(s))}extractPrimaryTimeComponents(e,t,n=!1){const a=e.createParsingComponents();let s=0,i=null,o=parseInt(t[2]);if(o>100){if(this.strictMode||null!=t[3])return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(null!=t[3]){if(1==t[3].length&&!t[6])return null;s=parseInt(t[3])}if(s>=60)return null;if(o>12&&(i=r.Meridiem.PM),null!=t[6]){if(o>12)return null;const e=t[6][0].toLowerCase();"a"==e&&(i=r.Meridiem.AM,12==o&&(o=0)),"p"==e&&(i=r.Meridiem.PM,12!=o&&(o+=12))}if(a.assign("hour",o),a.assign("minute",s),null!==i?a.assign("meridiem",i):o<12?a.imply("meridiem",r.Meridiem.AM):a.imply("meridiem",r.Meridiem.PM),null!=t[5]){const e=parseInt(t[5].substring(0,3));if(e>=1e3)return null;a.assign("millisecond",e)}if(null!=t[4]){const e=parseInt(t[4]);if(e>=60)return null;a.assign("second",e)}return a}extractFollowingTimeComponents(e,t,n){const a=e.createParsingComponents();if(null!=t[5]){const e=parseInt(t[5].substring(0,3));if(e>=1e3)return null;a.assign("millisecond",e)}if(null!=t[4]){const e=parseInt(t[4]);if(e>=60)return null;a.assign("second",e)}let s=parseInt(t[2]),i=0,o=-1;if(null!=t[3]?i=parseInt(t[3]):s>100&&(i=s%100,s=Math.floor(s/100)),i>=60||s>24)return null;if(s>=12&&(o=r.Meridiem.PM),null!=t[6]){if(s>12)return null;const e=t[6][0].toLowerCase();"a"==e&&(o=r.Meridiem.AM,12==s&&(s=0,a.isCertain("day")||a.imply("day",a.get("day")+1))),"p"==e&&(o=r.Meridiem.PM,12!=s&&(s+=12)),n.start.isCertain("meridiem")||(o==r.Meridiem.AM?(n.start.imply("meridiem",r.Meridiem.AM),12==n.start.get("hour")&&n.start.assign("hour",0)):(n.start.imply("meridiem",r.Meridiem.PM),12!=n.start.get("hour")&&n.start.assign("hour",n.start.get("hour")+12)))}return a.assign("hour",s),a.assign("minute",i),o>=0?a.assign("meridiem",o):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>s?a.imply("meridiem",r.Meridiem.AM):s<=12&&(a.assign("hour",s+12),a.assign("meridiem",r.Meridiem.PM)):s>12?a.imply("meridiem",r.Meridiem.PM):s<=12&&a.imply("meridiem",r.Meridiem.AM),a.date().getTime()<n.start.date().getTime()&&a.imply("day",a.get("day")+1),a}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/))return null;if(e.text.match(/\d[apAP]$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){const e=t[1];if(this.strictMode)return null;if(e.includes(".")&&!e.match(/\d(\.\d{2})+$/))return null;if(parseInt(e)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;const e=t[1],r=t[2];if(r.includes(".")&&!r.match(/\d(\.\d{2})+$/))return null;const n=parseInt(r),a=parseInt(e);if(n>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){const e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t||(this.cachedPrimaryTimePattern=function(e,t){return new RegExp("(^|\\s|T|\\b)"+e+"(\\d{1,4})(?:(?:\\.|\\:|\\\uff1a)(\\d{1,2})(?:(?:\\:|\\\uff1a)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?"+t,"i")}(e,t),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t),this.cachedPrimaryTimePattern}getFollowingTimePatternThroughCache(){const e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t||(this.cachedFollowingTimePatten=function(e,t){return new RegExp(`^(${e})(\\d{1,4})(?:(?:\\.|\\:|\\\uff1a)(\\d{1,2})(?:(?:\\.|\\:|\\\uff1a)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?`+t,"i")}(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t),this.cachedFollowingTimePatten}}})),ae=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=se({}),n=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${pe.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),a=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${pe.TIME_UNITS_PATTERN})(?=\\W|$)`,"i");t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return e.option.forwardDate?a:n}innerExtract(e,t){const n=pe.parseTimeUnits(t[1]);return r.ParsingComponents.createRelativeFromReference(e.reference,n)}}})),se=e((function(e,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingResult=t.ParsingComponents=t.ReferenceWithTimezone=void 0;const n=r(Pe),a=r(me),s=ie({});a.default.extend(n.default),t.ReferenceWithTimezone=class{constructor(e){var t;(e=null!=e?e:new Date)instanceof Date?this.instant=e:(this.instant=null!==(t=e.instant)&&void 0!==t?t:new Date,this.timezoneOffset=Me.toTimezoneOffset(e.timezone))}};class i{constructor(e,t){if(this.reference=e,this.knownValues={},this.impliedValues={},t)for(const n in t)this.knownValues[n]=t[n];const r=a.default(e.instant);this.imply("day",r.date()),this.imply("month",r.month()+1),this.imply("year",r.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues||(this.impliedValues[e]=t),this}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){const e=new i(this.reference);e.knownValues={},e.impliedValues={};for(const t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(const t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||null!=this.get("hour")&&e.getHours()!=this.get("hour")||null!=this.get("minute")&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return a.default(this.date())}date(){const e=this.dateWithoutTimezoneAdjustment();return new Date(e.getTime()+6e4*this.getSystemTimezoneAdjustmentMinute(e))}dateWithoutTimezoneAdjustment(){const e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}getSystemTimezoneAdjustmentMinute(e){var t,r;(!e||e.getTime()<0)&&(e=new Date);const n=-e.getTimezoneOffset();return n-(null!==(r=null!==(t=this.get("timezoneOffset"))&&void 0!==t?t:this.reference.timezoneOffset)&&void 0!==r?r:n)}static createRelativeFromReference(e,t){let r=a.default(e.instant);for(const a in t)r=r.add(t[a],a);const n=new i(e);return t.hour||t.minute||t.second?(s.assignSimilarTime(n,r),s.assignSimilarDate(n,r),null!==e.timezoneOffset&&n.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(s.implySimilarTime(n,r),null!==e.timezoneOffset&&n.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(n.assign("day",r.date()),n.assign("month",r.month()+1),n.assign("year",r.year())):(t.week&&n.imply("weekday",r.day()),n.imply("day",r.date()),t.month?(n.assign("month",r.month()+1),n.assign("year",r.year())):(n.imply("month",r.month()+1),t.year?n.assign("year",r.year()):n.imply("year",r.year())))),n}}t.ParsingComponents=i;class o{constructor(e,t,r,n,a){this.reference=e,this.refDate=e.instant,this.index=t,this.text=r,this.start=n||new i(e),this.end=a}clone(){const e=new o(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}}t.ParsingResult=o})),ie=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.implySimilarTime=t.assignSimilarTime=t.assignSimilarDate=t.assignTheNextDay=void 0;const r=n({});function a(e,t){e.assign("day",t.date()),e.assign("month",t.month()+1),e.assign("year",t.year())}function s(e,t){e.imply("hour",t.hour()),e.imply("minute",t.minute()),e.imply("second",t.second()),e.imply("millisecond",t.millisecond())}t.assignTheNextDay=function(e,t){a(e,t=t.add(1,"day")),s(e,t)},t.assignSimilarDate=a,t.assignSimilarTime=function(e,t){e.assign("hour",t.hour()),e.assign("minute",t.minute()),e.assign("second",t.second()),e.assign("millisecond",t.millisecond()),e.get("hour")<12?e.assign("meridiem",r.Meridiem.AM):e.assign("meridiem",r.Meridiem.PM)},t.implySimilarTime=s})),oe={exports:{}};!function(e,t){if("function"==typeof define&&define.amd)define("webextension-polyfill",["module"],t);else if(void 0!==oe.exports)t(oe);else{var r={exports:{}};t(r),e.browser=r.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){"use strict";if("object"!=typeof globalThis||"object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",r="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const s=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},i=e=>1==e?"argument":"arguments",o=(e,t,r)=>new Proxy(t,{apply:(t,n,a)=>r.call(n,e,...a)});let u=Function.call.bind(Object.prototype.hasOwnProperty);const d=(e,t={},r={})=>{let n=Object.create(null),a={has:(t,r)=>r in e||r in n,get(a,l,c){if(l in n)return n[l];if(!(l in e))return;let m=e[l];if("function"==typeof m)if("function"==typeof t[l])m=o(e,e[l],t[l]);else if(u(r,l)){let t=((e,t)=>function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((a,i)=>{if(t.fallbackToNoCallback)try{r[e](...n,s({resolve:a,reject:i},t))}catch(o){console.warn(e+" API method doesn't seem to support the callback parameter, falling back to call it without a callback: ",o),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,a()}else t.noCallback?(r[e](...n),a()):r[e](...n,s({resolve:a,reject:i},t))})})(l,r[l]);m=o(e,e[l],t)}else m=m.bind(e);else if("object"==typeof m&&null!==m&&(u(t,l)||u(r,l)))m=d(m,t[l],r[l]);else{if(!u(r,"*"))return Object.defineProperty(n,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),m;m=d(m,t[l],r["*"])}return n[l]=m,m},set:(t,r,a,s)=>(r in n?n[r]=a:e[r]=a,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},l=Object.create(e);return new Proxy(l,a)},l=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),c=new a(e=>"function"!=typeof e?e:function(t){const r=d(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)});let m=!1;const h=new a(e=>"function"!=typeof e?e:function(t,n,a){let s,i,o=!1,u=new Promise(e=>{s=function(t){m||(console.warn(r,(new Error).stack),m=!0),o=!0,e(t)}});try{i=e(t,n,s)}catch(c){i=Promise.reject(c)}const d=!0!==i&&((l=i)&&"object"==typeof l&&"function"==typeof l.then);var l;if(!0!==i&&!d&&!o)return!1;return(d?i:u).then(e=>{a(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",a({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)}),!0}),f=(r,n,a,...s)=>{if(s.length<n.minArgs)throw new Error(`Expected at least ${n.minArgs} ${i(n.minArgs)} for ${r}(), got ${s.length}`);if(s.length>n.maxArgs)throw new Error(`Expected at most ${n.maxArgs} ${i(n.maxArgs)} for ${r}(), got ${s.length}`);return new Promise((r,n)=>{const i=(({reject:r,resolve:n},a)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():r(new Error(e.runtime.lastError.message)):a&&a.__mozWebExtensionPolyfillReject__?r(new Error(a.message)):n(a)}).bind(null,{resolve:r,reject:n});s.push(i),a.sendMessage(...s)})},g={devtools:{network:{onRequestFinished:l(c)}},runtime:{onMessage:l(h),onMessageExternal:l(h),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},p={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":p},services:{"*":p},websites:{"*":p}},d(e,g,n)};e.exports=n(chrome)}else e.exports=globalThis.browser})),oe=oe.exports;var ue={};function de(e){return e instanceof Array?[...e]:e instanceof Map?Array.from(e.keys()):Object.keys(e)}Object.defineProperty(ue,"__esModule",{value:!0}),ue.matchAnyPattern=ue.repeatedTimeunitPattern=void 0,ue.repeatedTimeunitPattern=function(e,t){const r=t.replace(/\((?!\?)/g,"(?:");return`${e}${r}\\s{0,5}(?:,?\\s{0,5}${r}){0,10}`},ue.matchAnyPattern=function(e){return`(?:${de(e).sort((e,t)=>t.length-e.length).join("|").replace(/\./g,"\\.")})`};var le,ce,me={exports:{}};le=this,ce=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",a="day",s="week",i="month",o="quarter",u="year",d="date",l="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},g={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),a=r%60;return(t<=0?"+":"-")+f(n,2,"0")+":"+f(a,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,i),s=r-a<0,o=t.clone().add(n+(s?-1:1),i);return+(-(n+(r-a)/(s?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:i,y:u,w:s,d:a,D:d,h:n,m:r,s:t,ms:e,Q:o}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},p="en",y={};y[p]=h;var T=function(e){return e instanceof b},v=function e(t,r,n){var a;if(!t)return p;if("string"==typeof t){var s=t.toLowerCase();y[s]&&(a=s),r&&(y[s]=r,a=s);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var o=t.name;y[o]=t,a=o}return!n&&a&&(p=a),a||!n&&p},A=function(e,t){if(T(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new b(r)},_=g;_.l=v,_.i=T,_.w=function(e,t){return A(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var b=function(){function h(e){this.$L=v(e.locale,null,!0),this.parse(e)}var f=h.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(c);if(n){var a=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return _},f.isValid=function(){return!(this.$d.toString()===l)},f.isSame=function(e,t){var r=A(e);return this.startOf(t)<=r&&r<=this.endOf(t)},f.isAfter=function(e,t){return A(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<A(e)},f.$g=function(e,t,r){return _.u(e)?this[t]:this.set(r,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,o){var l=this,c=!!_.u(o)||o,m=_.p(e),h=function(e,t){var r=_.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return c?r:r.endOf(a)},f=function(e,t){return _.w(l.toDate()[e].apply(l.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},g=this.$W,p=this.$M,y=this.$D,T="set"+(this.$u?"UTC":"");switch(m){case u:return c?h(1,0):h(31,11);case i:return c?h(1,p):h(0,p+1);case s:var v=this.$locale().weekStart||0,A=(g<v?g+7:g)-v;return h(c?y-A:y+(6-A),p);case a:case d:return f(T+"Hours",0);case n:return f(T+"Minutes",1);case r:return f(T+"Seconds",2);case t:return f(T+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(s,o){var l,c=_.p(s),m="set"+(this.$u?"UTC":""),h=(l={},l[a]=m+"Date",l[d]=m+"Date",l[i]=m+"Month",l[u]=m+"FullYear",l[n]=m+"Hours",l[r]=m+"Minutes",l[t]=m+"Seconds",l[e]=m+"Milliseconds",l)[c],f=c===a?this.$D+(o-this.$W):o;if(c===i||c===u){var g=this.clone().set(d,1);g.$d[h](f),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[_.p(e)]()},f.add=function(e,o){var d,l=this;e=Number(e);var c=_.p(o),m=function(t){var r=A(l);return _.w(r.date(r.date()+Math.round(t*e)),l)};if(c===i)return this.set(i,this.$M+e);if(c===u)return this.set(u,this.$y+e);if(c===a)return m(1);if(c===s)return m(7);var h=(d={},d[r]=6e4,d[n]=36e5,d[t]=1e3,d)[c]||1,f=this.$d.getTime()+e*h;return _.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||l;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=_.z(this),s=this.$H,i=this.$m,o=this.$M,u=r.weekdays,d=r.months,c=function(e,r,a,s){return e&&(e[r]||e(t,n))||a[r].slice(0,s)},h=function(e){return _.s(s%12||12,e,"0")},f=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:_.s(o+1,2,"0"),MMM:c(r.monthsShort,o,d,3),MMMM:c(d,o),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,u,2),ddd:c(r.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:_.s(s,2,"0"),h:h(1),hh:h(2),a:f(s,i,!0),A:f(s,i,!1),m:String(i),mm:_.s(i,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:a};return n.replace(m,(function(e,t){return t||g[e]||a.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(e,d,l){var c,m=_.p(d),h=A(e),f=6e4*(h.utcOffset()-this.utcOffset()),g=this-h,p=_.m(this,h);return p=(c={},c[u]=p/12,c[i]=p,c[o]=p/3,c[s]=(g-f)/6048e5,c[a]=(g-f)/864e5,c[n]=g/36e5,c[r]=g/6e4,c[t]=g/1e3,c)[m]||g,l?p:_.a(p)},f.daysInMonth=function(){return this.endOf(i).$D},f.$locale=function(){return y[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=v(e,t,!0);return n&&(r.$L=n),r},f.clone=function(){return _.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},h}(),P=b.prototype;return A.prototype=P,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W",a],["$M",i],["$y",u],["$D",d]].forEach((function(e){P[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),A.extend=function(e,t){return e.$i||(e(t,b,A),e.$i=!0),A},A.locale=v,A.isDayjs=T,A.unix=function(e){return A(1e3*e)},A.en=y[p],A.Ls=y,A.p={},A},"object"==typeof me.exports?me.exports=ce():"function"==typeof define&&define.amd?define(ce):(le="undefined"!=typeof globalThis?globalThis:le||self).dayjs=ce(),me=me.exports;var he={},fe=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(he,"__esModule",{value:!0}),he.findYearClosestToRef=he.findMostLikelyADYear=void 0;const ge=fe(me);he.findMostLikelyADYear=function(e){return e<100&&(e+=e>50?1900:2e3),e},he.findYearClosestToRef=function(e,t,r){const n=ge.default(e);let a=n;const s=(a=(a=(a=a.month(r-1)).date(t)).year(n.year())).add(1,"y"),i=a.add(-1,"y");return Math.abs(s.diff(n))<Math.abs(a.diff(n))?a=s:Math.abs(i.diff(n))<Math.abs(a.diff(n))&&(a=i),a.year()};var pe={};function ye(e){const t=e.toLowerCase();return void 0!==pe.INTEGER_WORD_DICTIONARY[t]?pe.INTEGER_WORD_DICTIONARY[t]:"a"===t||"an"===t?1:t.match(/few/)?3:t.match(/half/)?.5:t.match(/couple/)?2:t.match(/several/)?7:parseFloat(t)}Object.defineProperty(pe,"__esModule",{value:!0}),pe.parseTimeUnits=pe.TIME_UNITS_PATTERN=pe.parseYear=pe.YEAR_PATTERN=pe.parseOrdinalNumberPattern=pe.ORDINAL_NUMBER_PATTERN=pe.NUMBER_PATTERN=pe.TIME_UNIT_DICTIONARY=pe.ORDINAL_WORD_DICTIONARY=pe.INTEGER_WORD_DICTIONARY=pe.MONTH_DICTIONARY=pe.FULL_MONTH_NAME_DICTIONARY=pe.WEEKDAY_DICTIONARY=void 0,pe.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},pe.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},pe.MONTH_DICTIONARY=Object.assign(Object.assign({},pe.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12}),pe.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},pe.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},pe.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"},pe.NUMBER_PATTERN=`(?:${ue.matchAnyPattern(pe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|a?\\s{0,2}couple\\s{0,2}(?:of)?)`,pe.ORDINAL_NUMBER_PATTERN=`(?:${ue.matchAnyPattern(pe.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`,pe.parseOrdinalNumberPattern=function(e){let t=e.toLowerCase();return void 0!==pe.ORDINAL_WORD_DICTIONARY[t]?pe.ORDINAL_WORD_DICTIONARY[t]:(t=t.replace(/(?:st|nd|rd|th)$/i,""),parseInt(t))},pe.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])",pe.parseYear=function(e){if(/BE/i.test(e))return e=e.replace(/BE/i,""),parseInt(e)-543;if(/BCE?/i.test(e))return e=e.replace(/BCE?/i,""),-parseInt(e);if(/(AD|CE)/i.test(e))return e=e.replace(/(AD|CE)/i,""),parseInt(e);const t=parseInt(e);return he.findMostLikelyADYear(t)};const Te=`(${pe.NUMBER_PATTERN})\\s{0,3}(${ue.matchAnyPattern(pe.TIME_UNIT_DICTIONARY)})`,ve=new RegExp(Te,"i");function Ae(e,t){const r=ye(t[1]);e[pe.TIME_UNIT_DICTIONARY[t[2].toLowerCase()]]=r}pe.TIME_UNITS_PATTERN=ue.repeatedTimeunitPattern("(?:(?:about|around)\\s{0,3})?",Te),pe.parseTimeUnits=function(e){const t={};let r=e,n=ve.exec(r);for(;n;)Ae(t,n),r=r.substring(n[0].length).trim(),n=ve.exec(r);return t};var _e,be,Pe={exports:{}};_e=this,be=function(){"use strict";var e="month",t="quarter";return function(r,n){var a=n.prototype;a.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var s=a.add;a.add=function(r,n){return r=Number(r),this.$utils().p(n)===t?this.add(3*r,e):s.bind(this)(r,n)};var i=a.startOf;a.startOf=function(r,n){var a=this.$utils(),s=!!a.u(n)||n;if(a.p(r)===t){var o=this.quarter()-1;return s?this.month(3*o).startOf(e).startOf("day"):this.month(3*o+2).endOf(e).endOf("day")}return i.bind(this)(r,n)}}},"object"==typeof Pe.exports?Pe.exports=be():"function"==typeof define&&define.amd?define(be):(_e="undefined"!=typeof globalThis?globalThis:_e||self).dayjs_plugin_quarterOfYear=be(),Pe=Pe.exports;var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.toTimezoneOffset=Me.TIMEZONE_ABBR_MAP=void 0,Me.TIMEZONE_ABBR_MAP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360},Me.toTimezoneOffset=function(e){var t;return null==e?null:"number"==typeof e?e:null!==(t=Me.TIMEZONE_ABBR_MAP[e])&&void 0!==t?t:null};var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.AbstractParserWithWordBoundaryChecking=void 0,xe.AbstractParserWithWordBoundaryChecking=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}pattern(e){const t=this.innerPattern(e);return t==this.cachedInnerPattern||(this.cachedPattern=new RegExp("(\\W|^)"+t.source,t.flags),this.cachedInnerPattern=t),this.cachedPattern}extract(e,t){var r;const n=null!==(r=t[1])&&void 0!==r?r:"";t.index=t.index+n.length,t[0]=t[0].substring(n.length);for(let a=2;a<t.length;a++)t[a-1]=t[a];return this.innerExtract(e,t)}};var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});const Ie=new RegExp(`(?:on\\s{0,3})?(${pe.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${pe.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${ue.matchAnyPattern(pe.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s{0,3})(${pe.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i");Ee.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Ie}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=pe.MONTH_DICTIONARY[t[3].toLowerCase()],a=pe.parseOrdinalNumberPattern(t[1]);if(a>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",n),r.start.assign("day",a),t[4]){const e=pe.parseYear(t[4]);r.start.assign("year",e)}else{const t=he.findYearClosestToRef(e.refDate,a,n);r.start.imply("year",t)}if(t[2]){const e=pe.parseOrdinalNumberPattern(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}};var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});const Re=new RegExp(`(${ue.matchAnyPattern(pe.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${pe.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${pe.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${pe.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i");Ne.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Re}innerExtract(e,t){const r=pe.MONTH_DICTIONARY[t[1].toLowerCase()],n=pe.parseOrdinalNumberPattern(t[2]);if(n>31)return null;const a=e.createParsingComponents({day:n,month:r});if(t[4]){const e=pe.parseYear(t[4]);a.assign("year",e)}else{const t=he.findYearClosestToRef(e.refDate,n,r);a.imply("year",t)}if(!t[3])return a;const s=pe.parseOrdinalNumberPattern(t[3]),i=e.createParsingResult(t.index,t[0]);return i.start=a,i.end=a.clone(),i.end.assign("day",s),i}};var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});const we=new RegExp(`((?:in)\\s*)?(${ue.matchAnyPattern(pe.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${pe.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i");Ce.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return we}innerExtract(e,t){const r=t[2].toLowerCase();if(t[0].length<=3&&!pe.FULL_MONTH_NAME_DICTIONARY[r])return null;const n=e.createParsingResult(t.index+(t[1]||"").length,t.index+t[0].length);n.start.imply("day",1);const a=pe.MONTH_DICTIONARY[r];if(n.start.assign("month",a),t[3]){const e=pe.parseYear(t[3]);n.start.assign("year",e)}else{const t=he.findYearClosestToRef(e.refDate,1,a);n.start.imply("year",t)}return n}};var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});const De=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${ue.matchAnyPattern(pe.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i");Oe.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return De}innerExtract(e,t){const r=t[3]?parseInt(t[3]):pe.MONTH_DICTIONARY[t[2].toLowerCase()];if(r<1||r>12)return null;const n=parseInt(t[1]);return{day:parseInt(t[4]),month:r,year:n}}};var Se={};Object.defineProperty(Se,"__esModule",{value:!0});const ke=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i");Se.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return ke}innerExtract(e,t){const r=parseInt(t[2]),n=parseInt(t[1]);return e.createParsingComponents().imply("day",1).assign("month",n).assign("year",r)}};var je={};Object.defineProperty(je,"__esModule",{value:!0}),je.addImpliedTimeUnits=je.reverseTimeUnits=void 0,je.reverseTimeUnits=function(e){const t={};for(const r in e)t[r]=-e[r];return t},je.addImpliedTimeUnits=function(e,t){const r=e.clone();let n=e.dayjs();for(const a in t)n=n.add(t[a],a);return("day"in t||"d"in t||"week"in t||"month"in t||"year"in t)&&(r.imply("day",n.date()),r.imply("month",n.month()+1),r.imply("year",n.year())),("second"in t||"minute"in t||"hour"in t)&&(r.imply("second",n.second()),r.imply("minute",n.minute()),r.imply("hour",n.hour())),r};var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.MergingRefiner=$e.Filter=void 0,$e.Filter=class{refine(e,t){return t.filter(t=>this.isValid(e,t))}},$e.MergingRefiner=class{refine(e,t){if(t.length<2)return t;const r=[];let n=t[0],a=null;for(let s=1;s<t.length;s++){a=t[s];const i=e.text.substring(n.index+n.text.length,a.index);if(this.shouldMergeResults(i,n,a,e)){const t=n,r=a,s=this.mergeResults(i,t,r,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${t} and ${r} into ${s}`)}),n=s}else r.push(n),n=a}return null!=n&&r.push(n),r}};var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.default=class extends $e.MergingRefiner{shouldMergeResults(e,t,r){return!t.end&&!r.end&&null!=e.match(this.patternBetween())}mergeResults(e,t,r){if(t.start.isOnlyWeekdayComponent()||r.start.isOnlyWeekdayComponent()||(r.start.getCertainComponents().forEach(e=>{t.start.isCertain(e)||t.start.assign(e,r.start.get(e))}),t.start.getCertainComponents().forEach(e=>{r.start.isCertain(e)||r.start.assign(e,t.start.get(e))})),t.start.date().getTime()>r.start.date().getTime()){let e=t.start.dayjs(),n=r.start.dayjs();t.start.isOnlyWeekdayComponent()&&e.add(-7,"days").isBefore(n)?(e=e.add(-7,"days"),t.start.imply("day",e.date()),t.start.imply("month",e.month()+1),t.start.imply("year",e.year())):r.start.isOnlyWeekdayComponent()&&n.add(7,"days").isAfter(e)?(n=n.add(7,"days"),r.start.imply("day",n.date()),r.start.imply("month",n.month()+1),r.start.imply("year",n.year())):[r,t]=[t,r]}const n=t.clone();return n.start=t.start,n.end=r.start,n.index=Math.min(t.index,r.index),t.index<r.index?n.text=t.text+e+r.text:n.text=r.text+e+t.text,n}};var Le={},Be=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});const Ye=Be(We);Le.default=class extends Ye.default{patternBetween(){return/^\s*(to|-)\s*$/i}};var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});const Fe=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),qe={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};Ue.default=class{constructor(e){this.timezone=Object.assign(Object.assign({},qe),e)}refine(e,t){var r;const n=null!==(r=e.option.timezones)&&void 0!==r?r:{};return t.forEach(t=>{var r,a;const s=e.text.substring(t.index+t.text.length),i=Fe.exec(s);if(!i)return;const o=i[1].toUpperCase(),u=null!==(a=null!==(r=n[o])&&void 0!==r?r:this.timezone[o])&&void 0!==a?a:null;if(null===u)return;e.debug(()=>{console.log(`Extracting timezone: '${o}' into: ${u} for: ${t.start}`)});const d=t.start.get("timezoneOffset");if(null!==d&&u!=d){if(t.start.isCertain("timezoneOffset"))return;if(o!=i[1])return}t.start.isOnlyDate()&&o!=i[1]||(t.text+=i[0],t.start.isCertain("timezoneOffset")||t.start.assign("timezoneOffset",u),null==t.end||t.end.isCertain("timezoneOffset")||t.end.assign("timezoneOffset",u))}),t}};var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});const ze=new RegExp("^\\s*(?:(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?","i");Ve.default=class{refine(e,t){return t.forEach((function(t){if(t.start.isCertain("timezoneOffset"))return;const r=e.text.substring(t.index+t.text.length),n=ze.exec(r);if(!n)return;e.debug(()=>{console.log(`Extracting timezone: '${n[0]}' into : ${t}`)});let a=60*parseInt(n[2])+parseInt(n[3]||"0");"-"===n[1]&&(a=-a),null!=t.end&&t.end.assign("timezoneOffset",a),t.start.assign("timezoneOffset",a),t.text+=n[0]})),t}};var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.default=class{refine(e,t){if(t.length<2)return t;const r=[];let n=t[0];for(let a=1;a<t.length;a++){const e=t[a];e.index<n.index+n.text.length?e.text.length>n.text.length&&(n=e):(r.push(n),n=e)}return null!=n&&r.push(n),r}};var Ke={},Ge=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0});const Ze=Ge(me);Ke.default=class{refine(e,t){return e.option.forwardDate?(t.forEach((function(t){let r=Ze.default(e.refDate);if(t.start.isOnlyDayMonthComponent()&&r.isAfter(t.start.dayjs()))for(let n=0;n<3&&r.isAfter(t.start.dayjs());n++)t.start.imply("year",t.start.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${t} (${t.start})`)}),t.end&&!t.end.isCertain("year")&&(t.end.imply("year",t.end.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${t} (${t.end})`)}));t.start.isOnlyWeekdayComponent()&&r.isAfter(t.start.dayjs())&&(r=r.day()>=t.start.get("weekday")?r.day(t.start.get("weekday")+7):r.day(t.start.get("weekday")),t.start.imply("day",r.date()),t.start.imply("month",r.month()+1),t.start.imply("year",r.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${t} (${t.start})`)}),t.end&&t.end.isOnlyWeekdayComponent()&&(r=r.day()>t.end.get("weekday")?r.day(t.end.get("weekday")+7):r.day(t.end.get("weekday")),t.end.imply("day",r.date()),t.end.imply("month",r.month()+1),t.end.imply("year",r.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${t} (${t.end})`)})))})),t):t}};var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=class extends $e.Filter{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):!this.strictMode||this.isStrictModeValid(e,t):(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):!!(!t.start.isOnlyTime()||t.start.isCertain("hour")&&t.start.isCertain("minute"))||(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1)}};var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});const Xe=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i");Qe.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Xe}innerExtract(e,t){const r={};if(r.year=parseInt(t[1]),r.month=parseInt(t[2]),r.day=parseInt(t[3]),null!=t[4])if(r.hour=parseInt(t[4]),r.minute=parseInt(t[5]),null!=t[6]&&(r.second=parseInt(t[6])),null!=t[7]&&(r.millisecond=parseInt(t[7])),null==t[8])r.timezoneOffset=0;else{const e=parseInt(t[8]);let n=0;null!=t[9]&&(n=parseInt(t[9]));let a=60*e;a<0?a-=n:a+=n,r.timezoneOffset=a}return r}};var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.default=class extends $e.MergingRefiner{mergeResults(e,t,r){const n=r.clone();return n.index=t.index,n.text=t.text+e+n.text,n.start.assign("weekday",t.start.get("weekday")),n.end&&n.end.assign("weekday",t.start.get("weekday")),n}shouldMergeResults(e,t,r){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&r.start.isCertain("day")&&null!=e.match(/^,?\s*$/)}};var tt={},rt=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.includeCommonConfiguration=void 0;const nt=rt(Ue),at=rt(Ve),st=rt(He),it=rt(Ke),ot=rt(Je),ut=rt(Qe),dt=rt(et);tt.includeCommonConfiguration=function(e,t=!1){return e.parsers.unshift(new ut.default),e.refiners.unshift(new dt.default),e.refiners.unshift(new nt.default),e.refiners.unshift(new at.default),e.refiners.unshift(new st.default),e.refiners.push(new st.default),e.refiners.push(new it.default),e.refiners.push(new ot.default(t)),e};var lt={},ct=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.toDayJSWeekday=void 0;const mt=ct(me);function ht(e,t){let r=mt.default(e);const n=r.day();return Math.abs(t-7-n)<Math.abs(t-n)?r.day(t-7):Math.abs(t+7-n)<Math.abs(t-n)?r.day(t+7):r.day(t)}lt.toDayJSWeekday=function(e,t,r){if(!r)return ht(e,t);let n=mt.default(e);switch(r){case"this":n=n.day(t);break;case"next":n=n.day(t+7);break;case"last":n=n.day(t-7)}return n};var ft={};Object.defineProperty(ft,"__esModule",{value:!0});const gt=new RegExp(`(?:(?:\\,|\\(|\\\uff08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${ue.matchAnyPattern(pe.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uff09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i");ft.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return gt}innerExtract(e,t){const r=t[2].toLowerCase(),n=pe.WEEKDAY_DICTIONARY[r],a=t[1],s=t[3];let i=a||s,o=null;"last"==(i=(i=i||"").toLowerCase())||"past"==i?o="last":"next"==i?o="next":"this"==i&&(o="this");const u=lt.toDayJSWeekday(e.refDate,n,o);return e.createParsingComponents().assign("weekday",n).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};var pt={};Object.defineProperty(pt,"__esModule",{value:!0});const yt=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i");pt.default=class{constructor(e){this.groupNumberMonth=e?3:2,this.groupNumberDay=e?2:3}pattern(){return yt}extract(e,t){if("/"==t[1]||"/"==t[5])return void(t.index+=t[0].length);const r=t.index+t[1].length,n=t[0].substr(t[1].length,t[0].length-t[1].length-t[5].length);if(n.match(/^\d\.\d$/)||n.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/))return;if(!t[4]&&t[0].indexOf("/")<0)return;const a=e.createParsingResult(r,n);let s=parseInt(t[this.groupNumberMonth]),i=parseInt(t[this.groupNumberDay]);if((s<1||s>12)&&s>12){if(!(i>=1&&i<=12&&s<=31))return null;[i,s]=[s,i]}if(i<1||i>31)return null;if(a.start.assign("day",i),a.start.assign("month",s),t[4]){const e=parseInt(t[4]),r=he.findMostLikelyADYear(e);a.start.assign("year",r)}else{const t=he.findYearClosestToRef(e.refDate,i,s);a.start.imply("year",t)}return a}};var Tt={};function vt(e){const t=e.toLowerCase();return void 0!==Tt.INTEGER_WORD_DICTIONARY[t]?Tt.INTEGER_WORD_DICTIONARY[t]:"a"===t||"an"===t?1:t.match(/few/)?3:t.match(/half/)?.5:t.match(/couple/)?2:t.match(/several/)?7:parseFloat(t)}Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.parseYear=Tt.YEAR_PATTERN=Tt.parseNumberPattern=Tt.NUMBER_PATTERN=Tt.TIME_UNIT_DICTIONARY=Tt.INTEGER_WORD_DICTIONARY=Tt.MONTH_DICTIONARY=Tt.WEEKDAY_DICTIONARY=void 0,Tt.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6},Tt.MONTH_DICTIONARY={januar:1,"j\xe4nner":1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,"m\xe4rz":3,maerz:3,"m\xe4r":3,"m\xe4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12},Tt.INTEGER_WORD_DICTIONARY={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,"f\xfcnf":5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,"zw\xf6lf":12,zwoelf:12},Tt.TIME_UNIT_DICTIONARY={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"},Tt.NUMBER_PATTERN=`(?:${ue.matchAnyPattern(Tt.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?\\b(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`,Tt.parseNumberPattern=vt,Tt.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)",Tt.parseYear=function(e){if(/v/i.test(e))return-parseInt(e.replace(/[^0-9]+/gi,""));if(/n/i.test(e))return parseInt(e.replace(/[^0-9]+/gi,""));if(/z/i.test(e))return parseInt(e.replace(/[^0-9]+/gi,""));const t=parseInt(e);return he.findMostLikelyADYear(t)};const At=`(${Tt.NUMBER_PATTERN})\\s{0,5}(${ue.matchAnyPattern(Tt.TIME_UNIT_DICTIONARY)})\\s{0,5}`;new RegExp(At,"i");ue.repeatedTimeunitPattern("",At);var _t={};Object.defineProperty(_t,"__esModule",{value:!0});const bt=new RegExp(`(?:(?:\\,|\\(|\\\uff08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xe4|ae)chste[mn])\\s*)?(${ue.matchAnyPattern(Tt.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uff09))?(?:\\s*(diese|letzte|n(?:\xe4|ae)chste)\\s*woche)?(?=\\W|$)`,"i");_t.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return bt}innerExtract(e,t){const r=t[2].toLowerCase(),n=Tt.WEEKDAY_DICTIONARY[r],a=t[1],s=t[3];let i=a||s,o=null;(i=(i=i||"").toLowerCase()).match(/letzte/)?o="last":i.match(/chste/)?o="next":i.match(/diese/)&&(o="this");const u=lt.toDayJSWeekday(e.refDate,n,o);return e.createParsingComponents().assign("weekday",n).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};var Pt={},Mt=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pt,"__esModule",{value:!0});const xt=Mt(We);Pt.default=class extends xt.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};var Et={};Object.defineProperty(Et,"__esModule",{value:!0});const It=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${ue.matchAnyPattern(Tt.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${Tt.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i");Et.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return It}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=Tt.MONTH_DICTIONARY[t[3].toLowerCase()],a=parseInt(t[1]);if(a>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",n),r.start.assign("day",a),t[4]){const e=Tt.parseYear(t[4]);r.start.assign("year",e)}else{const t=he.findYearClosestToRef(e.refDate,a,n);r.start.imply("year",t)}if(t[2]){const e=parseInt(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}};var Nt={},Rt=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});const Ct=Rt(We);Nt.default=class extends Ct.default{patternBetween(){return/^\s*(\xe0|a|-)\s*$/i}};var wt={};function Ot(e){const t=e.toLowerCase();return void 0!==wt.INTEGER_WORD_DICTIONARY[t]?wt.INTEGER_WORD_DICTIONARY[t]:"une"===t||"un"===t?1:t.match(/quelques?/)?3:t.match(/demi-?/)?.5:parseFloat(t)}Object.defineProperty(wt,"__esModule",{value:!0}),wt.parseTimeUnits=wt.TIME_UNITS_PATTERN=wt.parseYear=wt.YEAR_PATTERN=wt.parseOrdinalNumberPattern=wt.ORDINAL_NUMBER_PATTERN=wt.parseNumberPattern=wt.NUMBER_PATTERN=wt.TIME_UNIT_DICTIONARY=wt.INTEGER_WORD_DICTIONARY=wt.MONTH_DICTIONARY=wt.WEEKDAY_DICTIONARY=void 0,wt.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6},wt.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,"f\xe9vrier":2,"f\xe9v":2,"f\xe9v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,"ao\xfbt":8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,"d\xe9cembre":12,decembre:12,dec:12,"dec.":12},wt.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13},wt.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year","ann\xe9e":"year","ann\xe9es":"year"},wt.NUMBER_PATTERN=`(?:${ue.matchAnyPattern(wt.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?\\b|quelques?|demi-?)`,wt.parseNumberPattern=Ot,wt.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)",wt.parseOrdinalNumberPattern=function(e){let t=e.toLowerCase();return t=t.replace(/(?:er)$/i,""),parseInt(t)},wt.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])",wt.parseYear=function(e){if(/AC/i.test(e))return e=e.replace(/BC/i,""),-parseInt(e);if(/AD/i.test(e)||/C/i.test(e))return e=e.replace(/[^\d]+/i,""),parseInt(e);let t=parseInt(e);return t<100&&(t+=t>50?1900:2e3),t};const Dt=`(${wt.NUMBER_PATTERN})\\s{0,5}(${ue.matchAnyPattern(wt.TIME_UNIT_DICTIONARY)})\\s{0,5}`,St=new RegExp(Dt,"i");function kt(e,t){const r=Ot(t[1]);e[wt.TIME_UNIT_DICTIONARY[t[2].toLowerCase()]]=r}wt.TIME_UNITS_PATTERN=ue.repeatedTimeunitPattern("",Dt),wt.parseTimeUnits=function(e){const t={};let r=e,n=St.exec(r);for(;n;)kt(t,n),r=r.substring(n[0].length),n=St.exec(r);return t};var jt={};Object.defineProperty(jt,"__esModule",{value:!0});const $t=new RegExp(`(?:(?:\\,|\\(|\\\uff08)\\s*)?(?:(?:ce)\\s*)?(${ue.matchAnyPattern(wt.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uff09))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i");jt.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return $t}innerExtract(e,t){const r=t[1].toLowerCase(),n=wt.WEEKDAY_DICTIONARY[r];if(void 0===n)return null;let a=t[2],s=null;"dernier"==(a=(a=a||"").toLowerCase())?s="last":"prochain"==a&&(s="next");const i=lt.toDayJSWeekday(e.refDate,n,s);return e.createParsingComponents().assign("weekday",n).imply("day",i.date()).imply("month",i.month()+1).imply("year",i.year())}};var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});const Lt=new RegExp(`(?:on\\s*?)?(${wt.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\\u2013|jusqu'au?|\\s)\\s*(${wt.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${ue.matchAnyPattern(wt.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${wt.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i");Wt.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Lt}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=wt.MONTH_DICTIONARY[t[3].toLowerCase()],a=wt.parseOrdinalNumberPattern(t[1]);if(a>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",n),r.start.assign("day",a),t[4]){const e=wt.parseYear(t[4]);r.start.assign("year",e)}else{const t=he.findYearClosestToRef(e.refDate,a,n);r.start.imply("year",t)}if(t[2]){const e=wt.parseOrdinalNumberPattern(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}};var Bt={};function Yt(e){return String.fromCharCode(e.charCodeAt(0)-65248)}Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.toHankaku=void 0,Bt.toHankaku=function(e){return String(e).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"\xa5").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,Yt)};var Ut={},Ft=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ut,"__esModule",{value:!0});const qt=Ft(me),Vt=/(?:(?:([\u540c\u4eca\u672c])|((\u662d\u548c|\u5e73\u6210|\u4ee4\u548c)?([0-9\uff10-\uff19]{1,4}|\u5143)))\u5e74\s*)?([0-9\uff10-\uff19]{1,2})\u6708\s*([0-9\uff10-\uff19]{1,2})\u65e5/i;Ut.default=class{pattern(){return Vt}extract(e,t){const r=parseInt(Bt.toHankaku(t[5])),n=parseInt(Bt.toHankaku(t[6])),a=e.createParsingComponents({day:n,month:r});if(t[1]&&t[1].match("\u540c|\u4eca|\u672c")){const t=qt.default(e.refDate);a.assign("year",t.year())}if(t[2]){const e=t[4];let r="\u5143"==e?1:parseInt(Bt.toHankaku(e));"\u4ee4\u548c"==t[3]?r+=2018:"\u5e73\u6210"==t[3]?r+=1988:"\u662d\u548c"==t[3]&&(r+=1925),a.assign("year",r)}else{const t=he.findYearClosestToRef(e.refDate,n,r);a.imply("year",t)}return a}};var zt={},Ht=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zt,"__esModule",{value:!0});const Kt=Ht(We);zt.default=class extends Kt.default{patternBetween(){return/^\s*(\u304b\u3089|\u30fc|-)\s*$/i}};var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.parseYear=Gt.YEAR_PATTERN=Gt.MONTH_DICTIONARY=Gt.WEEKDAY_DICTIONARY=void 0,Gt.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,"ter\xe7a":2,"ter\xe7a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,"s\xe1bado":6,sabado:6,sab:6},Gt.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,"mar\xe7o":3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12},Gt.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?",Gt.parseYear=function(e){if(e.match(/^[0-9]{1,4}$/)){let t=parseInt(e);return t<100&&(t+=t>50?1900:2e3),t}return e.match(/a\.?\s*c\.?/i)?(e=e.replace(/a\.?\s*c\.?/i,""),-parseInt(e)):parseInt(e)};var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});const Jt=new RegExp(`(?:(?:\\,|\\(|\\\uff08)\\s*)?(?:(este|esta|passado|pr[o\xf3]ximo)\\s*)?(${ue.matchAnyPattern(Gt.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uff09))?(?:\\s*(este|esta|passado|pr[\xf3o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i");Zt.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Jt}innerExtract(e,t){const r=t[2].toLowerCase(),n=Gt.WEEKDAY_DICTIONARY[r];if(void 0===n)return null;const a=t[1],s=t[3];let i=a||s||"",o=null;"passado"==(i=i.toLowerCase())?o="this":"pr\xf3ximo"==i||"proximo"==i?o="next":"este"==i&&(o="this");const u=lt.toDayJSWeekday(e.refDate,n,o);return e.createParsingComponents().assign("weekday",n).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};var Qt={},Xt=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qt,"__esModule",{value:!0});const er=Xt(We);Qt.default=class extends er.default{patternBetween(){return/^\s*(?:-)\s*$/i}};var tr={};Object.defineProperty(tr,"__esModule",{value:!0});const rr=new RegExp(`([0-9]{1,2})(?:\xba|\xaa|\xb0)?(?:\\s*(?:desde|de|\\-|\\\u2013|ao?|\\s)\\s*([0-9]{1,2})(?:\xba|\xaa|\xb0)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${ue.matchAnyPattern(Gt.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${Gt.YEAR_PATTERN}))?(?=\\W|$)`,"i");tr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return rr}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=Gt.MONTH_DICTIONARY[t[3].toLowerCase()],a=parseInt(t[1]);if(a>31)return t.index=t.index+t[1].length,null;if(r.start.assign("month",n),r.start.assign("day",a),t[4]){const e=Gt.parseYear(t[4]);r.start.assign("year",e)}else{const t=he.findYearClosestToRef(e.refDate,a,n);r.start.imply("year",t)}if(t[2]){const e=parseInt(t[2]);r.end=r.start.clone(),r.end.assign("day",e)}return r}};var nr={},ar=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});const sr=ar(We);nr.default=class extends sr.default{patternBetween(){return/^\s*(tot|-)\s*$/i}};var ir={};function or(e){const t=e.toLowerCase();return void 0!==ir.INTEGER_WORD_DICTIONARY[t]?ir.INTEGER_WORD_DICTIONARY[t]:"paar"===t?2:"half"===t||t.match(/halve?/)?.5:parseFloat(t.replace(",","."))}Object.defineProperty(ir,"__esModule",{value:!0}),ir.parseTimeUnits=ir.TIME_UNITS_PATTERN=ir.parseYear=ir.YEAR_PATTERN=ir.parseOrdinalNumberPattern=ir.ORDINAL_NUMBER_PATTERN=ir.NUMBER_PATTERN=ir.TIME_UNIT_DICTIONARY=ir.ORDINAL_WORD_DICTIONARY=ir.INTEGER_WORD_DICTIONARY=ir.MONTH_DICTIONARY=ir.WEEKDAY_DICTIONARY=void 0,ir.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6},ir.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12},ir.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12},ir.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,"twee\xebntwintigste":22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31},ir.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuut:"minute",minuten:"minute",minuutje:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",u:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"},ir.NUMBER_PATTERN=`(?:${ue.matchAnyPattern(ir.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+[\\.,][0-9]+|halve?|half|paar)`,ir.ORDINAL_NUMBER_PATTERN=`(?:${ue.matchAnyPattern(ir.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`,ir.parseOrdinalNumberPattern=function(e){let t=e.toLowerCase();return void 0!==ir.ORDINAL_WORD_DICTIONARY[t]?ir.ORDINAL_WORD_DICTIONARY[t]:(t=t.replace(/(?:ste|de)$/i,""),parseInt(t))},ir.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])",ir.parseYear=function(e){if(/voor Christus/i.test(e))return e=e.replace(/voor Christus/i,""),-parseInt(e);if(/na Christus/i.test(e))return e=e.replace(/na Christus/i,""),parseInt(e);const t=parseInt(e);return he.findMostLikelyADYear(t)};const ur=`(${ir.NUMBER_PATTERN})\\s{0,5}(${ue.matchAnyPattern(ir.TIME_UNIT_DICTIONARY)})\\s{0,5}`,dr=new RegExp(ur,"i");function lr(e,t){const r=or(t[1]);e[ir.TIME_UNIT_DICTIONARY[t[2].toLowerCase()]]=r}ir.TIME_UNITS_PATTERN=ue.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",ur),ir.parseTimeUnits=function(e){const t={};let r=e,n=dr.exec(r);for(;n;)lr(t,n),r=r.substring(n[0].length),n=dr.exec(r);return t};var cr={};Object.defineProperty(cr,"__esModule",{value:!0});const mr=new RegExp(`(?:(?:\\,|\\(|\\\uff08)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${ue.matchAnyPattern(ir.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i");cr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return mr}innerExtract(e,t){const r=t[2].toLowerCase(),n=ir.WEEKDAY_DICTIONARY[r],a=t[1],s=t[3];let i=a||s,o=null;"vorige"==(i=(i=i||"").toLowerCase())?o="last":"volgende"==i?o="next":"deze"==i&&(o="this");const u=lt.toDayJSWeekday(e.refDate,n,o);return e.createParsingComponents().assign("weekday",n).imply("day",u.date()).imply("month",u.month()+1).imply("year",u.year())}};var hr={};Object.defineProperty(hr,"__esModule",{value:!0});const fr=new RegExp(`(?:on\\s*?)?(${ir.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\\u2013|until|through|till|\\s)\\s*(${ir.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+ue.matchAnyPattern(ir.MONTH_DICTIONARY)+")(?:(?:-|/|,?\\s*)"+`(${ir.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i");hr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return fr}innerExtract(e,t){const r=ir.MONTH_DICTIONARY[t[3].toLowerCase()],n=ir.parseOrdinalNumberPattern(t[1]);if(n>31)return t.index=t.index+t[1].length,null;const a=e.createParsingComponents({day:n,month:r});if(t[4]){const e=ir.parseYear(t[4]);a.assign("year",e)}else{const t=he.findYearClosestToRef(e.refDate,n,r);a.imply("year",t)}if(!t[2])return a;const s=ir.parseOrdinalNumberPattern(t[2]),i=e.createParsingResult(t.index,t[0]);return i.start=a,i.end=a.clone(),i.end.assign("day",s),i}};var gr={};Object.defineProperty(gr,"__esModule",{value:!0});const pr=new RegExp(`(${ue.matchAnyPattern(ir.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${ir.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i");gr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return pr}innerExtract(e,t){const r=e.createParsingComponents();r.imply("day",1);const n=t[1],a=ir.MONTH_DICTIONARY[n.toLowerCase()];if(r.assign("month",a),t[2]){const e=ir.parseYear(t[2]);r.assign("year",e)}else{const t=he.findYearClosestToRef(e.refDate,1,a);r.imply("year",t)}return r}};var yr={};Object.defineProperty(yr,"__esModule",{value:!0});const Tr=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i");yr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Tr}innerExtract(e,t){const r=parseInt(t[2]),n=parseInt(t[1]);return e.createParsingComponents().imply("day",1).assign("month",n).assign("year",r)}};var vr={};Object.defineProperty(vr,"__esModule",{value:!0});const Ar=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${ue.matchAnyPattern(ir.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i");vr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Ar}innerExtract(e,t){const r=t[3]?parseInt(t[3]):ir.MONTH_DICTIONARY[t[2].toLowerCase()];if(r<1||r>12)return null;const n=parseInt(t[1]);return{day:parseInt(t[4]),month:r,year:n}}};var _r={},br=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_r,"__esModule",{value:!0});const Pr=br(me);_r.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u800c\u5bb6|\u7acb(?:\u523b|\u5373)|\u5373\u523b)|(\u4eca|\u660e|\u524d|\u5927\u524d|\u5f8c|\u5927\u5f8c|\u807d|\u6628|\u5c0b|\u7434)(\u65e9|\u671d|\u665a)|(\u4e0a(?:\u5348|\u665d)|\u671d(?:\u65e9)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348|\u665d)|\u664f(?:\u665d)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668))|(\u4eca|\u660e|\u524d|\u5927\u524d|\u5f8c|\u5927\u5f8c|\u807d|\u6628|\u5c0b|\u7434)(?:\u65e5|\u5929)(?:[\\s|,|\uff0c]*)(?:(\u4e0a(?:\u5348|\u665d)|\u671d(?:\u65e9)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348|\u665d)|\u664f(?:\u665d)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668)))?","i")}innerExtract(e,t){const r=t.index,n=e.createParsingResult(r,t[0]),a=Pr.default(e.refDate);let s=a;if(t[1])n.start.imply("hour",a.hour()),n.start.imply("minute",a.minute()),n.start.imply("second",a.second()),n.start.imply("millisecond",a.millisecond());else if(t[2]){const e=t[2],r=t[3];"\u660e"==e||"\u807d"==e?a.hour()>1&&(s=s.add(1,"day")):"\u6628"==e||"\u5c0b"==e||"\u7434"==e?s=s.add(-1,"day"):"\u524d"==e?s=s.add(-2,"day"):"\u5927\u524d"==e?s=s.add(-3,"day"):"\u5f8c"==e?s=s.add(2,"day"):"\u5927\u5f8c"==e&&(s=s.add(3,"day")),"\u65e9"==r||"\u671d"==r?n.start.imply("hour",6):"\u665a"==r&&(n.start.imply("hour",22),n.start.imply("meridiem",1))}else if(t[4]){const e=t[4][0];"\u65e9"==e||"\u671d"==e||"\u4e0a"==e?n.start.imply("hour",6):"\u4e0b"==e||"\u664f"==e?(n.start.imply("hour",15),n.start.imply("meridiem",1)):"\u4e2d"==e?(n.start.imply("hour",12),n.start.imply("meridiem",1)):"\u591c"==e||"\u665a"==e?(n.start.imply("hour",22),n.start.imply("meridiem",1)):"\u51cc"==e&&n.start.imply("hour",0)}else if(t[5]){const e=t[5];"\u660e"==e||"\u807d"==e?a.hour()>1&&(s=s.add(1,"day")):"\u6628"==e||"\u5c0b"==e||"\u7434"==e?s=s.add(-1,"day"):"\u524d"==e?s=s.add(-2,"day"):"\u5927\u524d"==e?s=s.add(-3,"day"):"\u5f8c"==e?s=s.add(2,"day"):"\u5927\u5f8c"==e&&(s=s.add(3,"day"));const r=t[6];if(r){const e=r[0];"\u65e9"==e||"\u671d"==e||"\u4e0a"==e?n.start.imply("hour",6):"\u4e0b"==e||"\u664f"==e?(n.start.imply("hour",15),n.start.imply("meridiem",1)):"\u4e2d"==e?(n.start.imply("hour",12),n.start.imply("meridiem",1)):"\u591c"==e||"\u665a"==e?(n.start.imply("hour",22),n.start.imply("meridiem",1)):"\u51cc"==e&&n.start.imply("hour",0)}}return n.start.assign("day",s.date()),n.start.assign("month",s.month()+1),n.start.assign("year",s.year()),n}};var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.zhStringToYear=Mr.zhStringToNumber=Mr.WEEKDAY_OFFSET=Mr.NUMBER=void 0,Mr.NUMBER={"\u96f6":0,"\u4e00":1,"\u4e8c":2,"\u5169":2,"\u4e09":3,"\u56db":4,"\u4e94":5,"\u516d":6,"\u4e03":7,"\u516b":8,"\u4e5d":9,"\u5341":10,"\u5eff":20,"\u5345":30},Mr.WEEKDAY_OFFSET={"\u5929":0,"\u65e5":0,"\u4e00":1,"\u4e8c":2,"\u4e09":3,"\u56db":4,"\u4e94":5,"\u516d":6},Mr.zhStringToNumber=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];"\u5341"===n?t=0===t?Mr.NUMBER[n]:t*Mr.NUMBER[n]:t+=Mr.NUMBER[n]}return t},Mr.zhStringToYear=function(e){let t="";for(let r=0;r<e.length;r++){const n=e[r];t+=Mr.NUMBER[n]}return parseInt(t)};var xr={},Er=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xr,"__esModule",{value:!0});const Ir=Er(me);xr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(Mr.NUMBER).join("")+"]{4}|["+Object.keys(Mr.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5e74)?(?:[\\s|,|\uff0c]*)(\\d{1,2}|["+Object.keys(Mr.NUMBER).join("")+"]{1,2})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(Mr.NUMBER).join("")+"]{1,2})?(?:\\s*)(?:\u65e5|\u865f)?")}innerExtract(e,t){const r=Ir.default(e.refDate),n=e.createParsingResult(t.index,t[0]);let a=parseInt(t[2]);if(isNaN(a)&&(a=Mr.zhStringToNumber(t[2])),n.start.assign("month",a),t[3]){let e=parseInt(t[3]);isNaN(e)&&(e=Mr.zhStringToNumber(t[3])),n.start.assign("day",e)}else n.start.imply("day",r.date());if(t[1]){let e=parseInt(t[1]);isNaN(e)&&(e=Mr.zhStringToYear(t[1])),n.start.assign("year",e)}else n.start.imply("year",r.year());return n}};var Nr={},Rr=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nr,"__esModule",{value:!0});const Cr=Rr(me),wr=new RegExp("(\\d+|["+Object.keys(Mr.NUMBER).join("")+"]+|\u534a|\u5e7e)(?:\\s*)(?:\u500b)?(\u79d2(?:\u9418)?|\u5206\u9418|\u5c0f\u6642|\u9418|\u65e5|\u5929|\u661f\u671f|\u79ae\u62dc|\u6708|\u5e74)(?:(?:\u4e4b|\u904e)?\u5f8c|(?:\u4e4b)?\u5167)","i");Nr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return wr}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]);let n=parseInt(t[1]);if(isNaN(n)&&(n=Mr.zhStringToNumber(t[1])),isNaN(n)){const e=t[1];if("\u5e7e"===e)n=3;else{if("\u534a"!==e)return null;n=.5}}let a=Cr.default(e.refDate);const s=t[2][0];return s.match(/[\u65e5\u5929\u661f\u79ae\u6708\u5e74]/)?("\u65e5"==s||"\u5929"==s?a=a.add(n,"d"):"\u661f"==s||"\u79ae"==s?a=a.add(7*n,"d"):"\u6708"==s?a=a.add(n,"month"):"\u5e74"==s&&(a=a.add(n,"year")),r.start.assign("year",a.year()),r.start.assign("month",a.month()+1),r.start.assign("day",a.date()),r):("\u79d2"==s?a=a.add(n,"second"):"\u5206"==s?a=a.add(n,"minute"):"\u5c0f"!=s&&"\u9418"!=s||(a=a.add(n,"hour")),r.start.imply("year",a.year()),r.start.imply("month",a.month()+1),r.start.imply("day",a.date()),r.start.assign("hour",a.hour()),r.start.assign("minute",a.minute()),r.start.assign("second",a.second()),r)}};var Or={},Dr=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Or,"__esModule",{value:!0});const Sr=Dr(me),kr=new RegExp("(?<prefix>\u4e0a|\u4eca|\u4e0b|\u9019|\u5462)(?:\u500b)?(?:\u661f\u671f|\u79ae\u62dc|\u9031)(?<weekday>"+Object.keys(Mr.WEEKDAY_OFFSET).join("|")+")");Or.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return kr}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=t.groups.weekday,a=Mr.WEEKDAY_OFFSET[n];if(void 0===a)return null;let s=null;const i=t.groups.prefix;"\u4e0a"==i?s="last":"\u4e0b"==i?s="next":"\u4eca"!=i&&"\u9019"!=i&&"\u5462"!=i||(s="this");let o=Sr.default(e.refDate),u=!1;const d=o.day();return"last"==s||"past"==s?(o=o.day(a-7),u=!0):"next"==s?(o=o.day(a+7),u=!0):o="this"==s?o.day(a):Math.abs(a-7-d)<Math.abs(a-d)?o.day(a-7):Math.abs(a+7-d)<Math.abs(a-d)?o.day(a+7):o.day(a),r.start.assign("weekday",a),u?(r.start.assign("day",o.date()),r.start.assign("month",o.month()+1),r.start.assign("year",o.year())):(r.start.imply("day",o.date()),r.start.imply("month",o.month()+1),r.start.imply("year",o.year())),r}};var jr={},$r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jr,"__esModule",{value:!0});const Wr=$r(me),Lr=new RegExp("(?:\u7531|\u5f9e|\u81ea)?(?:(\u4eca|\u660e|\u524d|\u5927\u524d|\u5f8c|\u5927\u5f8c|\u807d|\u6628|\u5c0b|\u7434)(\u65e9|\u671d|\u665a)|(\u4e0a(?:\u5348|\u665d)|\u671d(?:\u65e9)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348|\u665d)|\u664f(?:\u665d)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668))|(\u4eca|\u660e|\u524d|\u5927\u524d|\u5f8c|\u5927\u5f8c|\u807d|\u6628|\u5c0b|\u7434)(?:\u65e5|\u5929)(?:[\\s,\uff0c]*)(?:(\u4e0a(?:\u5348|\u665d)|\u671d(?:\u65e9)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348|\u665d)|\u664f(?:\u665d)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668)))?)?(?:[\\s,\uff0c]*)(?:(\\d+|["+Object.keys(Mr.NUMBER).join("")+"]+)(?:\\s*)(?:\u9ede|\u6642|:|\uff1a)(?:\\s*)(\\d+|\u534a|\u6b63|\u6574|["+Object.keys(Mr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uff1a)?(?:\\s*)(\\d+|["+Object.keys(Mr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79d2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),Br=new RegExp("(?:^\\s*(?:\u5230|\u81f3|\\-|\\\u2013|\\~|\\\u301c)\\s*)(?:(\u4eca|\u660e|\u524d|\u5927\u524d|\u5f8c|\u5927\u5f8c|\u807d|\u6628|\u5c0b|\u7434)(\u65e9|\u671d|\u665a)|(\u4e0a(?:\u5348|\u665d)|\u671d(?:\u65e9)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348|\u665d)|\u664f(?:\u665d)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668))|(\u4eca|\u660e|\u524d|\u5927\u524d|\u5f8c|\u5927\u5f8c|\u807d|\u6628|\u5c0b|\u7434)(?:\u65e5|\u5929)(?:[\\s,\uff0c]*)(?:(\u4e0a(?:\u5348|\u665d)|\u671d(?:\u65e9)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348|\u665d)|\u664f(?:\u665d)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668)))?)?(?:[\\s,\uff0c]*)(?:(\\d+|["+Object.keys(Mr.NUMBER).join("")+"]+)(?:\\s*)(?:\u9ede|\u6642|:|\uff1a)(?:\\s*)(\\d+|\u534a|\u6b63|\u6574|["+Object.keys(Mr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uff1a)?(?:\\s*)(\\d+|["+Object.keys(Mr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79d2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i");jr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Lr}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;const r=Wr.default(e.refDate),n=e.createParsingResult(t.index,t[0]),a=r.clone();t[1]?("\u660e"==(l=t[1])||"\u807d"==l?r.hour()>1&&a.add(1,"day"):"\u6628"==l||"\u5c0b"==l||"\u7434"==l?a.add(-1,"day"):"\u524d"==l?a.add(-2,"day"):"\u5927\u524d"==l?a.add(-3,"day"):"\u5f8c"==l?a.add(2,"day"):"\u5927\u5f8c"==l&&a.add(3,"day"),n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())):t[4]?("\u660e"==(c=t[4])||"\u807d"==c?a.add(1,"day"):"\u6628"==c||"\u5c0b"==c||"\u7434"==c?a.add(-1,"day"):"\u524d"==c?a.add(-2,"day"):"\u5927\u524d"==c?a.add(-3,"day"):"\u5f8c"==c?a.add(2,"day"):"\u5927\u5f8c"==c&&a.add(3,"day"),n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())):(n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year()));let s=0,i=0,o=-1;if(t[8]){var u=parseInt(t[8]);if(isNaN(u)&&(u=Mr.zhStringToNumber(t[8])),u>=60)return null;n.start.assign("second",u)}if(s=parseInt(t[6]),isNaN(s)&&(s=Mr.zhStringToNumber(t[6])),t[7]?"\u534a"==t[7]?i=30:"\u6b63"==t[7]||"\u6574"==t[7]?i=0:(i=parseInt(t[7]),isNaN(i)&&(i=Mr.zhStringToNumber(t[7]))):s>100&&(i=s%100,s=Math.floor(s/100)),i>=60)return null;if(s>24)return null;if(s>=12&&(o=1),t[9]){if(s>12)return null;"a"==(m=t[9][0].toLowerCase())&&(o=0,12==s&&(s=0)),"p"==m&&(o=1,12!=s&&(s+=12))}else t[2]?"\u671d"==(h=t[2][0])||"\u65e9"==h?(o=0,12==s&&(s=0)):"\u665a"==h&&(o=1,12!=s&&(s+=12)):t[3]?"\u4e0a"==(f=t[3][0])||"\u671d"==f||"\u65e9"==f||"\u51cc"==f?(o=0,12==s&&(s=0)):"\u4e0b"!=f&&"\u664f"!=f&&"\u665a"!=f||(o=1,12!=s&&(s+=12)):t[5]&&("\u4e0a"==(g=t[5][0])||"\u671d"==g||"\u65e9"==g||"\u51cc"==g?(o=0,12==s&&(s=0)):"\u4e0b"!=g&&"\u664f"!=g&&"\u665a"!=g||(o=1,12!=s&&(s+=12)));if(n.start.assign("hour",s),n.start.assign("minute",i),o>=0?n.start.assign("meridiem",o):s<12?n.start.imply("meridiem",0):n.start.imply("meridiem",1),!(t=Br.exec(e.text.substring(n.index+n.text.length))))return n.text.match(/^\d+$/)?null:n;const d=a.clone();var l;if(n.end=e.createParsingComponents(),t[1])"\u660e"==(l=t[1])||"\u807d"==l?r.hour()>1&&d.add(1,"day"):"\u6628"==l||"\u5c0b"==l||"\u7434"==l?d.add(-1,"day"):"\u524d"==l?d.add(-2,"day"):"\u5927\u524d"==l?d.add(-3,"day"):"\u5f8c"==l?d.add(2,"day"):"\u5927\u5f8c"==l&&d.add(3,"day"),n.end.assign("day",d.date()),n.end.assign("month",d.month()+1),n.end.assign("year",d.year());else if(t[4]){var c;"\u660e"==(c=t[4])||"\u807d"==c?d.add(1,"day"):"\u6628"==c||"\u5c0b"==c||"\u7434"==c?d.add(-1,"day"):"\u524d"==c?d.add(-2,"day"):"\u5927\u524d"==c?d.add(-3,"day"):"\u5f8c"==c?d.add(2,"day"):"\u5927\u5f8c"==c&&d.add(3,"day"),n.end.assign("day",d.date()),n.end.assign("month",d.month()+1),n.end.assign("year",d.year())}else n.end.imply("day",d.date()),n.end.imply("month",d.month()+1),n.end.imply("year",d.year());if(s=0,i=0,o=-1,t[8]){if(u=parseInt(t[8]),isNaN(u)&&(u=Mr.zhStringToNumber(t[8])),u>=60)return null;n.end.assign("second",u)}if(s=parseInt(t[6]),isNaN(s)&&(s=Mr.zhStringToNumber(t[6])),t[7]?"\u534a"==t[7]?i=30:"\u6b63"==t[7]||"\u6574"==t[7]?i=0:(i=parseInt(t[7]),isNaN(i)&&(i=Mr.zhStringToNumber(t[7]))):s>100&&(i=s%100,s=Math.floor(s/100)),i>=60)return null;if(s>24)return null;if(s>=12&&(o=1),t[9]){if(s>12)return null;var m;"a"==(m=t[9][0].toLowerCase())&&(o=0,12==s&&(s=0)),"p"==m&&(o=1,12!=s&&(s+=12)),n.start.isCertain("meridiem")||(0==o?(n.start.imply("meridiem",0),12==n.start.get("hour")&&n.start.assign("hour",0)):(n.start.imply("meridiem",1),12!=n.start.get("hour")&&n.start.assign("hour",n.start.get("hour")+12)))}else if(t[2]){var h;"\u671d"==(h=t[2][0])||"\u65e9"==h?(o=0,12==s&&(s=0)):"\u665a"==h&&(o=1,12!=s&&(s+=12))}else if(t[3]){var f;"\u4e0a"==(f=t[3][0])||"\u671d"==f||"\u65e9"==f||"\u51cc"==f?(o=0,12==s&&(s=0)):"\u4e0b"!=f&&"\u664f"!=f&&"\u665a"!=f||(o=1,12!=s&&(s+=12))}else if(t[5]){var g;"\u4e0a"==(g=t[5][0])||"\u671d"==g||"\u65e9"==g||"\u51cc"==g?(o=0,12==s&&(s=0)):"\u4e0b"!=g&&"\u664f"!=g&&"\u665a"!=g||(o=1,12!=s&&(s+=12))}return n.text=n.text+t[0],n.end.assign("hour",s),n.end.assign("minute",i),o>=0?n.end.assign("meridiem",o):n.start.isCertain("meridiem")&&1==n.start.get("meridiem")&&n.start.get("hour")>s?n.end.imply("meridiem",0):s>12&&n.end.imply("meridiem",1),n.end.date().getTime()<n.start.date().getTime()&&n.end.imply("day",n.end.get("day")+1),n}};var Yr={},Ur=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yr,"__esModule",{value:!0});const Fr=Ur(me),qr=new RegExp("(?:\u661f\u671f|\u79ae\u62dc|\u9031)(?<weekday>"+Object.keys(Mr.WEEKDAY_OFFSET).join("|")+")");Yr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return qr}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=t.groups.weekday,a=Mr.WEEKDAY_OFFSET[n];if(void 0===a)return null;let s=Fr.default(e.refDate);const i=s.day();return s=Math.abs(a-7-i)<Math.abs(a-i)?s.day(a-7):Math.abs(a+7-i)<Math.abs(a-i)?s.day(a+7):s.day(a),r.start.assign("weekday",a),r.start.imply("day",s.date()),r.start.imply("month",s.month()+1),r.start.imply("year",s.year()),r}};var Vr={},zr=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vr,"__esModule",{value:!0});const Hr=zr(We);Vr.default=class extends Hr.default{patternBetween(){return/^\s*(\u81f3|\u5230|\-|\~|\uff5e|\uff0d|\u30fc)\s*$/i}};var Kr={},Gr=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kr,"__esModule",{value:!0});const Zr=Gr(me);Kr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u73b0\u5728|\u7acb(?:\u523b|\u5373)|\u5373\u523b)|(\u4eca|\u660e|\u524d|\u5927\u524d|\u540e|\u5927\u540e|\u6628)(\u65e9|\u665a)|(\u4e0a(?:\u5348)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668))|(\u4eca|\u660e|\u524d|\u5927\u524d|\u540e|\u5927\u540e|\u6628)(?:\u65e5|\u5929)(?:[\\s|,|\uff0c]*)(?:(\u4e0a(?:\u5348)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668)))?","i")}innerExtract(e,t){const r=t.index,n=e.createParsingResult(r,t[0]),a=Zr.default(e.refDate);let s=a;if(t[1])n.start.imply("hour",a.hour()),n.start.imply("minute",a.minute()),n.start.imply("second",a.second()),n.start.imply("millisecond",a.millisecond());else if(t[2]){const e=t[2],r=t[3];"\u660e"==e?a.hour()>1&&(s=s.add(1,"day")):"\u6628"==e?s=s.add(-1,"day"):"\u524d"==e?s=s.add(-2,"day"):"\u5927\u524d"==e?s=s.add(-3,"day"):"\u540e"==e?s=s.add(2,"day"):"\u5927\u540e"==e&&(s=s.add(3,"day")),"\u65e9"==r?n.start.imply("hour",6):"\u665a"==r&&(n.start.imply("hour",22),n.start.imply("meridiem",1))}else if(t[4]){const e=t[4][0];"\u65e9"==e||"\u4e0a"==e?n.start.imply("hour",6):"\u4e0b"==e?(n.start.imply("hour",15),n.start.imply("meridiem",1)):"\u4e2d"==e?(n.start.imply("hour",12),n.start.imply("meridiem",1)):"\u591c"==e||"\u665a"==e?(n.start.imply("hour",22),n.start.imply("meridiem",1)):"\u51cc"==e&&n.start.imply("hour",0)}else if(t[5]){const e=t[5];"\u660e"==e?a.hour()>1&&(s=s.add(1,"day")):"\u6628"==e?s=s.add(-1,"day"):"\u524d"==e?s=s.add(-2,"day"):"\u5927\u524d"==e?s=s.add(-3,"day"):"\u540e"==e?s=s.add(2,"day"):"\u5927\u540e"==e&&(s=s.add(3,"day"));const r=t[6];if(r){const e=r[0];"\u65e9"==e||"\u4e0a"==e?n.start.imply("hour",6):"\u4e0b"==e?(n.start.imply("hour",15),n.start.imply("meridiem",1)):"\u4e2d"==e?(n.start.imply("hour",12),n.start.imply("meridiem",1)):"\u591c"==e||"\u665a"==e?(n.start.imply("hour",22),n.start.imply("meridiem",1)):"\u51cc"==e&&n.start.imply("hour",0)}}return n.start.assign("day",s.date()),n.start.assign("month",s.month()+1),n.start.assign("year",s.year()),n}};var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.zhStringToYear=Jr.zhStringToNumber=Jr.WEEKDAY_OFFSET=Jr.NUMBER=void 0,Jr.NUMBER={"\u96f6":0,"\u3007":0,"\u4e00":1,"\u4e8c":2,"\u4e24":2,"\u4e09":3,"\u56db":4,"\u4e94":5,"\u516d":6,"\u4e03":7,"\u516b":8,"\u4e5d":9,"\u5341":10},Jr.WEEKDAY_OFFSET={"\u5929":0,"\u65e5":0,"\u4e00":1,"\u4e8c":2,"\u4e09":3,"\u56db":4,"\u4e94":5,"\u516d":6},Jr.zhStringToNumber=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];"\u5341"===n?t=0===t?Jr.NUMBER[n]:t*Jr.NUMBER[n]:t+=Jr.NUMBER[n]}return t},Jr.zhStringToYear=function(e){let t="";for(let r=0;r<e.length;r++){const n=e[r];t+=Jr.NUMBER[n]}return parseInt(t)};var Qr={},Xr=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qr,"__esModule",{value:!0});const en=Xr(me);Qr.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(Jr.NUMBER).join("")+"]{4}|["+Object.keys(Jr.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5e74)?(?:[\\s|,|\uff0c]*)(\\d{1,2}|["+Object.keys(Jr.NUMBER).join("")+"]{1,3})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(Jr.NUMBER).join("")+"]{1,3})?(?:\\s*)(?:\u65e5|\u53f7)?")}innerExtract(e,t){const r=en.default(e.refDate),n=e.createParsingResult(t.index,t[0]);let a=parseInt(t[2]);if(isNaN(a)&&(a=Jr.zhStringToNumber(t[2])),n.start.assign("month",a),t[3]){let e=parseInt(t[3]);isNaN(e)&&(e=Jr.zhStringToNumber(t[3])),n.start.assign("day",e)}else n.start.imply("day",r.date());if(t[1]){let e=parseInt(t[1]);isNaN(e)&&(e=Jr.zhStringToYear(t[1])),n.start.assign("year",e)}else n.start.imply("year",r.year());return n}};var tn={},rn=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tn,"__esModule",{value:!0});const nn=rn(me),an=new RegExp("(\\d+|["+Object.keys(Jr.NUMBER).join("")+"]+|\u534a|\u51e0)(?:\\s*)(?:\u4e2a)?(\u79d2(?:\u949f)?|\u5206\u949f|\u5c0f\u65f6|\u949f|\u65e5|\u5929|\u661f\u671f|\u793c\u62dc|\u6708|\u5e74)(?:(?:\u4e4b|\u8fc7)?\u540e|(?:\u4e4b)?\u5185)","i");tn.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return an}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]);let n=parseInt(t[1]);if(isNaN(n)&&(n=Jr.zhStringToNumber(t[1])),isNaN(n)){const e=t[1];if("\u51e0"===e)n=3;else{if("\u534a"!==e)return null;n=.5}}let a=nn.default(e.refDate);const s=t[2][0];return s.match(/[\u65e5\u5929\u661f\u793c\u6708\u5e74]/)?("\u65e5"==s||"\u5929"==s?a=a.add(n,"d"):"\u661f"==s||"\u793c"==s?a=a.add(7*n,"d"):"\u6708"==s?a=a.add(n,"month"):"\u5e74"==s&&(a=a.add(n,"year")),r.start.assign("year",a.year()),r.start.assign("month",a.month()+1),r.start.assign("day",a.date()),r):("\u79d2"==s?a=a.add(n,"second"):"\u5206"==s?a=a.add(n,"minute"):"\u5c0f"!=s&&"\u949f"!=s||(a=a.add(n,"hour")),r.start.imply("year",a.year()),r.start.imply("month",a.month()+1),r.start.imply("day",a.date()),r.start.assign("hour",a.hour()),r.start.assign("minute",a.minute()),r.start.assign("second",a.second()),r)}};var sn={},on=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});const un=on(me),dn=new RegExp("(?<prefix>\u4e0a|\u4e0b|\u8fd9)(?:\u4e2a)?(?:\u661f\u671f|\u793c\u62dc|\u5468)(?<weekday>"+Object.keys(Jr.WEEKDAY_OFFSET).join("|")+")");sn.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return dn}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=t.groups.weekday,a=Jr.WEEKDAY_OFFSET[n];if(void 0===a)return null;let s=null;const i=t.groups.prefix;"\u4e0a"==i?s="last":"\u4e0b"==i?s="next":"\u8fd9"==i&&(s="this");let o=un.default(e.refDate),u=!1;const d=o.day();return"last"==s||"past"==s?(o=o.day(a-7),u=!0):"next"==s?(o=o.day(a+7),u=!0):o="this"==s?o.day(a):Math.abs(a-7-d)<Math.abs(a-d)?o.day(a-7):Math.abs(a+7-d)<Math.abs(a-d)?o.day(a+7):o.day(a),r.start.assign("weekday",a),u?(r.start.assign("day",o.date()),r.start.assign("month",o.month()+1),r.start.assign("year",o.year())):(r.start.imply("day",o.date()),r.start.imply("month",o.month()+1),r.start.imply("year",o.year())),r}};var ln={},cn=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});const mn=cn(me),hn=new RegExp("(?:\u4ece|\u81ea)?(?:(\u4eca|\u660e|\u524d|\u5927\u524d|\u540e|\u5927\u540e|\u6628)(\u65e9|\u671d|\u665a)|(\u4e0a(?:\u5348)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668))|(\u4eca|\u660e|\u524d|\u5927\u524d|\u540e|\u5927\u540e|\u6628)(?:\u65e5|\u5929)(?:[\\s,\uff0c]*)(?:(\u4e0a(?:\u5348)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668)))?)?(?:[\\s,\uff0c]*)(?:(\\d+|["+Object.keys(Jr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70b9|\u65f6|:|\uff1a)(?:\\s*)(\\d+|\u534a|\u6b63|\u6574|["+Object.keys(Jr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uff1a)?(?:\\s*)(\\d+|["+Object.keys(Jr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79d2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),fn=new RegExp("(?:^\\s*(?:\u5230|\u81f3|\\-|\\\u2013|\\~|\\\u301c)\\s*)(?:(\u4eca|\u660e|\u524d|\u5927\u524d|\u540e|\u5927\u540e|\u6628)(\u65e9|\u671d|\u665a)|(\u4e0a(?:\u5348)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668))|(\u4eca|\u660e|\u524d|\u5927\u524d|\u540e|\u5927\u540e|\u6628)(?:\u65e5|\u5929)(?:[\\s,\uff0c]*)(?:(\u4e0a(?:\u5348)|\u65e9(?:\u4e0a)|\u4e0b(?:\u5348)|\u665a(?:\u4e0a)|\u591c(?:\u665a)?|\u4e2d(?:\u5348)|\u51cc(?:\u6668)))?)?(?:[\\s,\uff0c]*)(?:(\\d+|["+Object.keys(Jr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70b9|\u65f6|:|\uff1a)(?:\\s*)(\\d+|\u534a|\u6b63|\u6574|["+Object.keys(Jr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uff1a)?(?:\\s*)(\\d+|["+Object.keys(Jr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79d2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i");ln.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return hn}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;const r=mn.default(e.refDate),n=e.createParsingResult(t.index,t[0]),a=r.clone();if(t[1]){const e=t[1];"\u660e"==e?r.hour()>1&&a.add(1,"day"):"\u6628"==e?a.add(-1,"day"):"\u524d"==e?a.add(-2,"day"):"\u5927\u524d"==e?a.add(-3,"day"):"\u540e"==e?a.add(2,"day"):"\u5927\u540e"==e&&a.add(3,"day"),n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())}else if(t[4]){const e=t[4];"\u660e"==e?a.add(1,"day"):"\u6628"==e?a.add(-1,"day"):"\u524d"==e?a.add(-2,"day"):"\u5927\u524d"==e?a.add(-3,"day"):"\u540e"==e?a.add(2,"day"):"\u5927\u540e"==e&&a.add(3,"day"),n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())}else n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year());let s=0,i=0,o=-1;if(t[8]){let e=parseInt(t[8]);if(isNaN(e)&&(e=Jr.zhStringToNumber(t[8])),e>=60)return null;n.start.assign("second",e)}if(s=parseInt(t[6]),isNaN(s)&&(s=Jr.zhStringToNumber(t[6])),t[7]?"\u534a"==t[7]?i=30:"\u6b63"==t[7]||"\u6574"==t[7]?i=0:(i=parseInt(t[7]),isNaN(i)&&(i=Jr.zhStringToNumber(t[7]))):s>100&&(i=s%100,s=Math.floor(s/100)),i>=60)return null;if(s>24)return null;if(s>=12&&(o=1),t[9]){if(s>12)return null;const e=t[9][0].toLowerCase();"a"==e&&(o=0,12==s&&(s=0)),"p"==e&&(o=1,12!=s&&(s+=12))}else if(t[2]){const e=t[2][0];"\u65e9"==e?(o=0,12==s&&(s=0)):"\u665a"==e&&(o=1,12!=s&&(s+=12))}else if(t[3]){const e=t[3][0];"\u4e0a"==e||"\u65e9"==e||"\u51cc"==e?(o=0,12==s&&(s=0)):"\u4e0b"!=e&&"\u665a"!=e||(o=1,12!=s&&(s+=12))}else if(t[5]){const e=t[5][0];"\u4e0a"==e||"\u65e9"==e||"\u51cc"==e?(o=0,12==s&&(s=0)):"\u4e0b"!=e&&"\u665a"!=e||(o=1,12!=s&&(s+=12))}if(n.start.assign("hour",s),n.start.assign("minute",i),o>=0?n.start.assign("meridiem",o):s<12?n.start.imply("meridiem",0):n.start.imply("meridiem",1),!(t=fn.exec(e.text.substring(n.index+n.text.length))))return n.text.match(/^\d+$/)?null:n;const u=a.clone();if(n.end=e.createParsingComponents(),t[1]){const e=t[1];"\u660e"==e?r.hour()>1&&u.add(1,"day"):"\u6628"==e?u.add(-1,"day"):"\u524d"==e?u.add(-2,"day"):"\u5927\u524d"==e?u.add(-3,"day"):"\u540e"==e?u.add(2,"day"):"\u5927\u540e"==e&&u.add(3,"day"),n.end.assign("day",u.date()),n.end.assign("month",u.month()+1),n.end.assign("year",u.year())}else if(t[4]){const e=t[4];"\u660e"==e?u.add(1,"day"):"\u6628"==e?u.add(-1,"day"):"\u524d"==e?u.add(-2,"day"):"\u5927\u524d"==e?u.add(-3,"day"):"\u540e"==e?u.add(2,"day"):"\u5927\u540e"==e&&u.add(3,"day"),n.end.assign("day",u.date()),n.end.assign("month",u.month()+1),n.end.assign("year",u.year())}else n.end.imply("day",u.date()),n.end.imply("month",u.month()+1),n.end.imply("year",u.year());if(s=0,i=0,o=-1,t[8]){let e=parseInt(t[8]);if(isNaN(e)&&(e=Jr.zhStringToNumber(t[8])),e>=60)return null;n.end.assign("second",e)}if(s=parseInt(t[6]),isNaN(s)&&(s=Jr.zhStringToNumber(t[6])),t[7]?"\u534a"==t[7]?i=30:"\u6b63"==t[7]||"\u6574"==t[7]?i=0:(i=parseInt(t[7]),isNaN(i)&&(i=Jr.zhStringToNumber(t[7]))):s>100&&(i=s%100,s=Math.floor(s/100)),i>=60)return null;if(s>24)return null;if(s>=12&&(o=1),t[9]){if(s>12)return null;const e=t[9][0].toLowerCase();"a"==e&&(o=0,12==s&&(s=0)),"p"==e&&(o=1,12!=s&&(s+=12)),n.start.isCertain("meridiem")||(0==o?(n.start.imply("meridiem",0),12==n.start.get("hour")&&n.start.assign("hour",0)):(n.start.imply("meridiem",1),12!=n.start.get("hour")&&n.start.assign("hour",n.start.get("hour")+12)))}else if(t[2]){const e=t[2][0];"\u65e9"==e?(o=0,12==s&&(s=0)):"\u665a"==e&&(o=1,12!=s&&(s+=12))}else if(t[3]){const e=t[3][0];"\u4e0a"==e||"\u65e9"==e||"\u51cc"==e?(o=0,12==s&&(s=0)):"\u4e0b"!=e&&"\u665a"!=e||(o=1,12!=s&&(s+=12))}else if(t[5]){const e=t[5][0];"\u4e0a"==e||"\u65e9"==e||"\u51cc"==e?(o=0,12==s&&(s=0)):"\u4e0b"!=e&&"\u665a"!=e||(o=1,12!=s&&(s+=12))}return n.text=n.text+t[0],n.end.assign("hour",s),n.end.assign("minute",i),o>=0?n.end.assign("meridiem",o):n.start.isCertain("meridiem")&&1==n.start.get("meridiem")&&n.start.get("hour")>s?n.end.imply("meridiem",0):s>12&&n.end.imply("meridiem",1),n.end.date().getTime()<n.start.date().getTime()&&n.end.imply("day",n.end.get("day")+1),n}};var gn={},pn=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0});const yn=pn(me),Tn=new RegExp("(?:\u661f\u671f|\u793c\u62dc|\u5468)(?<weekday>"+Object.keys(Jr.WEEKDAY_OFFSET).join("|")+")");gn.default=class extends xe.AbstractParserWithWordBoundaryChecking{innerPattern(){return Tn}innerExtract(e,t){const r=e.createParsingResult(t.index,t[0]),n=t.groups.weekday,a=Jr.WEEKDAY_OFFSET[n];if(void 0===a)return null;let s=yn.default(e.refDate);const i=s.day();return s=Math.abs(a-7-i)<Math.abs(a-i)?s.day(a-7):Math.abs(a+7-i)<Math.abs(a-i)?s.day(a+7):s.day(a),r.start.assign("weekday",a),r.start.imply("day",s.date()),r.start.imply("month",s.month()+1),r.start.imply("year",s.year()),r}};var vn={},An=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vn,"__esModule",{value:!0});const _n=An(We);vn.default=class extends _n.default{patternBetween(){return/^\s*(\u81f3|\u5230|-|~|\uff5e|\uff0d|\u30fc)\s*$/i}};var bn={};Object.defineProperty(bn,"__esModule",{value:!0}),bn.isObject=bn.pick=bn.assertNever=void 0,bn.assertNever=function(e){throw new Error("Unexpected value should never occur: "+e)},bn.pick=function(e,t){const r=t.map(t=>[t,null==e?void 0:e[t]]);return Object.fromEntries(r)},bn.isObject=function(e){return"object"==typeof e&&null!==e};var Pn,Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.logLevelSeverity=Mn.makeConsoleLogger=Mn.LogLevel=void 0,function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(Pn=Mn.LogLevel||(Mn.LogLevel={})),Mn.makeConsoleLogger=function(e){return(t,r,n)=>{console[t](`${e} ${t}:`,r,n)}},Mn.logLevelSeverity=function(e){switch(e){case Pn.DEBUG:return 20;case Pn.INFO:return 40;case Pn.WARN:return 60;case Pn.ERROR:return 80;default:return(0,bn.assertNever)(e)}};var xn,En,In={};Object.defineProperty(In,"__esModule",{value:!0}),In.buildRequestError=In.APIResponseError=In.UnknownHTTPResponseError=In.isHTTPResponseError=In.RequestTimeoutError=In.isNotionClientError=In.ClientErrorCode=In.APIErrorCode=void 0,function(e){e.Unauthorized="unauthorized",e.RestrictedResource="restricted_resource",e.ObjectNotFound="object_not_found",e.RateLimited="rate_limited",e.InvalidJSON="invalid_json",e.InvalidRequestURL="invalid_request_url",e.InvalidRequest="invalid_request",e.ValidationError="validation_error",e.ConflictError="conflict_error",e.InternalServerError="internal_server_error",e.ServiceUnavailable="service_unavailable"}(xn=In.APIErrorCode||(In.APIErrorCode={})),function(e){e.RequestTimeout="notionhq_client_request_timeout",e.ResponseError="notionhq_client_response_error"}(En=In.ClientErrorCode||(In.ClientErrorCode={}));class Nn extends Error{}function Rn(e){return(0,bn.isObject)(e)&&e instanceof Nn}function Cn(e,t){return Rn(e)&&e.code in t}In.isNotionClientError=Rn;class wn extends Nn{constructor(e="Request to Notion API has timed out"){super(e),this.code=En.RequestTimeout,this.name="RequestTimeoutError"}static isRequestTimeoutError(e){return Cn(e,{[En.RequestTimeout]:!0})}static rejectAfterTimeout(e,t){return new Promise((r,n)=>{const a=setTimeout(()=>{n(new wn)},t);e.then(r).catch(n).then(()=>clearTimeout(a))})}}In.RequestTimeoutError=wn;class On extends Nn{constructor(e){super(e.message),this.name="HTTPResponseError";const{code:t,status:r,headers:n,rawBodyText:a}=e;this.code=t,this.status=r,this.headers=n,this.body=a}}const Dn={[En.ResponseError]:!0,[xn.Unauthorized]:!0,[xn.RestrictedResource]:!0,[xn.ObjectNotFound]:!0,[xn.RateLimited]:!0,[xn.InvalidJSON]:!0,[xn.InvalidRequestURL]:!0,[xn.InvalidRequest]:!0,[xn.ValidationError]:!0,[xn.ConflictError]:!0,[xn.InternalServerError]:!0,[xn.ServiceUnavailable]:!0};In.isHTTPResponseError=function(e){return!!Cn(e,Dn)};class Sn extends On{constructor(e){var t;super({...e,code:En.ResponseError,message:null!==(t=e.message)&&void 0!==t?t:"Request to Notion API failed with status: "+e.status}),this.name="UnknownHTTPResponseError"}static isUnknownHTTPResponseError(e){return Cn(e,{[En.ResponseError]:!0})}}In.UnknownHTTPResponseError=Sn;const kn={[xn.Unauthorized]:!0,[xn.RestrictedResource]:!0,[xn.ObjectNotFound]:!0,[xn.RateLimited]:!0,[xn.InvalidJSON]:!0,[xn.InvalidRequestURL]:!0,[xn.InvalidRequest]:!0,[xn.ValidationError]:!0,[xn.ConflictError]:!0,[xn.InternalServerError]:!0,[xn.ServiceUnavailable]:!0};class jn extends On{constructor(){super(...arguments),this.name="APIResponseError"}static isAPIResponseError(e){return Cn(e,kn)}}In.APIResponseError=jn,In.buildRequestError=function(e,t){const r=function(e){if("string"!=typeof e)return;let t;try{t=JSON.parse(e)}catch(n){return}var r;return(0,bn.isObject)(t)&&"string"==typeof t.message&&"string"==typeof(r=t.code)&&r in kn?{...t,code:t.code,message:t.message}:void 0}(t);return void 0!==r?new jn({code:r.code,message:r.message,headers:e.headers,status:e.status,rawBodyText:t}):new Sn({message:void 0,headers:e.headers,status:e.status,rawBodyText:t})};var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.search=$n.createDatabase=$n.listDatabases=$n.queryDatabase=$n.updateDatabase=$n.getDatabase=$n.appendBlockChildren=$n.listBlockChildren=$n.deleteBlock=$n.updateBlock=$n.getBlock=$n.getPageProperty=$n.updatePage=$n.getPage=$n.createPage=$n.listUsers=$n.getUser=$n.getSelf=void 0,$n.getSelf={method:"get",pathParams:[],queryParams:[],bodyParams:[],path:()=>"users/me"},$n.getUser={method:"get",pathParams:["user_id"],queryParams:[],bodyParams:[],path:e=>"users/"+e.user_id},$n.listUsers={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"users"},$n.createPage={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","content","children"],path:()=>"pages"},$n.getPage={method:"get",pathParams:["page_id"],queryParams:[],bodyParams:[],path:e=>"pages/"+e.page_id},$n.updatePage={method:"patch",pathParams:["page_id"],queryParams:[],bodyParams:["properties","icon","cover","archived"],path:e=>"pages/"+e.page_id},$n.getPageProperty={method:"get",pathParams:["page_id","property_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`pages/${e.page_id}/properties/${e.property_id}`},$n.getBlock={method:"get",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>"blocks/"+e.block_id},$n.updateBlock={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["embed","type","archived","bookmark","image","video","pdf","file","audio","code","equation","divider","breadcrumb","table_of_contents","link_to_page","table_row","heading_1","heading_2","heading_3","paragraph","bulleted_list_item","numbered_list_item","quote","to_do","toggle","template","callout","synced_block","table"],path:e=>"blocks/"+e.block_id},$n.deleteBlock={method:"delete",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>"blocks/"+e.block_id},$n.listBlockChildren={method:"get",pathParams:["block_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`blocks/${e.block_id}/children`},$n.appendBlockChildren={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["children"],path:e=>`blocks/${e.block_id}/children`},$n.getDatabase={method:"get",pathParams:["database_id"],queryParams:[],bodyParams:[],path:e=>"databases/"+e.database_id},$n.updateDatabase={method:"patch",pathParams:["database_id"],queryParams:[],bodyParams:["title","icon","cover","properties","archived"],path:e=>"databases/"+e.database_id},$n.queryDatabase={method:"post",pathParams:["database_id"],queryParams:[],bodyParams:["sorts","filter","start_cursor","page_size","archived"],path:e=>`databases/${e.database_id}/query`},$n.listDatabases={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"databases"},$n.createDatabase={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","title"],path:()=>"databases"},$n.search={method:"post",pathParams:[],queryParams:[],bodyParams:["sort","query","start_cursor","page_size","filter"],path:()=>"search"};var Wn={},Ln=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==Ln)return Ln;throw new Error("unable to locate global object")}();Wn=Wn=Ln.fetch,Ln.fetch&&(Wn.default=Ln.fetch.bind(Ln)),Wn.Headers=Ln.Headers,Wn.Request=Ln.Request,Wn.Response=Ln.Response;var Bn,Yn,Un,Fn,qn,Vn,zn,Hn,Kn,Gn="@notionhq/client",Zn="1.0.4",Jn={},Qn=this&&this.__classPrivateFieldSet||function(e,t,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,r):a?a.value=r:t.set(e,r),r},Xn=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(Jn,"__esModule",{value:!0});class ea{constructor(e){var t,r,n,a,s,i;Bn.set(this,void 0),Yn.set(this,void 0),Un.set(this,void 0),Fn.set(this,void 0),qn.set(this,void 0),Vn.set(this,void 0),zn.set(this,void 0),Hn.set(this,void 0),Kn.set(this,void 0),this.blocks={retrieve:e=>this.request({path:$n.getBlock.path(e),method:$n.getBlock.method,query:(0,bn.pick)(e,$n.getBlock.queryParams),body:(0,bn.pick)(e,$n.getBlock.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:$n.updateBlock.path(e),method:$n.updateBlock.method,query:(0,bn.pick)(e,$n.updateBlock.queryParams),body:(0,bn.pick)(e,$n.updateBlock.bodyParams),auth:null==e?void 0:e.auth}),delete:e=>this.request({path:$n.deleteBlock.path(e),method:$n.deleteBlock.method,query:(0,bn.pick)(e,$n.deleteBlock.queryParams),body:(0,bn.pick)(e,$n.deleteBlock.bodyParams),auth:null==e?void 0:e.auth}),children:{append:e=>this.request({path:$n.appendBlockChildren.path(e),method:$n.appendBlockChildren.method,query:(0,bn.pick)(e,$n.appendBlockChildren.queryParams),body:(0,bn.pick)(e,$n.appendBlockChildren.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:$n.listBlockChildren.path(e),method:$n.listBlockChildren.method,query:(0,bn.pick)(e,$n.listBlockChildren.queryParams),body:(0,bn.pick)(e,$n.listBlockChildren.bodyParams),auth:null==e?void 0:e.auth})}},this.databases={list:e=>this.request({path:$n.listDatabases.path(),method:$n.listDatabases.method,query:(0,bn.pick)(e,$n.listDatabases.queryParams),body:(0,bn.pick)(e,$n.listDatabases.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:$n.getDatabase.path(e),method:$n.getDatabase.method,query:(0,bn.pick)(e,$n.getDatabase.queryParams),body:(0,bn.pick)(e,$n.getDatabase.bodyParams),auth:null==e?void 0:e.auth}),query:e=>this.request({path:$n.queryDatabase.path(e),method:$n.queryDatabase.method,query:(0,bn.pick)(e,$n.queryDatabase.queryParams),body:(0,bn.pick)(e,$n.queryDatabase.bodyParams),auth:null==e?void 0:e.auth}),create:e=>this.request({path:$n.createDatabase.path(),method:$n.createDatabase.method,query:(0,bn.pick)(e,$n.createDatabase.queryParams),body:(0,bn.pick)(e,$n.createDatabase.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:$n.updateDatabase.path(e),method:$n.updateDatabase.method,query:(0,bn.pick)(e,$n.updateDatabase.queryParams),body:(0,bn.pick)(e,$n.updateDatabase.bodyParams),auth:null==e?void 0:e.auth})},this.pages={create:e=>this.request({path:$n.createPage.path(),method:$n.createPage.method,query:(0,bn.pick)(e,$n.createPage.queryParams),body:(0,bn.pick)(e,$n.createPage.bodyParams),auth:null==e?void 0:e.auth}),retrieve:e=>this.request({path:$n.getPage.path(e),method:$n.getPage.method,query:(0,bn.pick)(e,$n.getPage.queryParams),body:(0,bn.pick)(e,$n.getPage.bodyParams),auth:null==e?void 0:e.auth}),update:e=>this.request({path:$n.updatePage.path(e),method:$n.updatePage.method,query:(0,bn.pick)(e,$n.updatePage.queryParams),body:(0,bn.pick)(e,$n.updatePage.bodyParams),auth:null==e?void 0:e.auth}),properties:{retrieve:e=>this.request({path:$n.getPageProperty.path(e),method:$n.getPageProperty.method,query:(0,bn.pick)(e,$n.getPageProperty.queryParams),body:(0,bn.pick)(e,$n.getPageProperty.bodyParams),auth:null==e?void 0:e.auth})}},this.users={retrieve:e=>this.request({path:$n.getUser.path(e),method:$n.getUser.method,query:(0,bn.pick)(e,$n.getUser.queryParams),body:(0,bn.pick)(e,$n.getUser.bodyParams),auth:null==e?void 0:e.auth}),list:e=>this.request({path:$n.listUsers.path(),method:$n.listUsers.method,query:(0,bn.pick)(e,$n.listUsers.queryParams),body:(0,bn.pick)(e,$n.listUsers.bodyParams),auth:null==e?void 0:e.auth}),me:e=>this.request({path:$n.getSelf.path(),method:$n.getSelf.method,query:(0,bn.pick)(e,$n.getSelf.queryParams),body:(0,bn.pick)(e,$n.getSelf.bodyParams),auth:null==e?void 0:e.auth})},Qn(this,Bn,null==e?void 0:e.auth,"f"),Qn(this,Yn,null!==(t=null==e?void 0:e.logLevel)&&void 0!==t?t:Mn.LogLevel.WARN,"f"),Qn(this,Un,null!==(r=null==e?void 0:e.logger)&&void 0!==r?r:(0,Mn.makeConsoleLogger)(Gn),"f"),Qn(this,Fn,(null!==(n=null==e?void 0:e.baseUrl)&&void 0!==n?n:"https://api.notion.com")+"/v1/","f"),Qn(this,qn,null!==(a=null==e?void 0:e.timeoutMs)&&void 0!==a?a:6e4,"f"),Qn(this,Vn,null!==(s=null==e?void 0:e.notionVersion)&&void 0!==s?s:ea.defaultNotionVersion,"f"),Qn(this,zn,null!==(i=null==e?void 0:e.fetch)&&void 0!==i?i:Wn.default,"f"),Qn(this,Hn,null==e?void 0:e.agent,"f"),Qn(this,Kn,"notionhq-client/"+Zn,"f")}async request({path:e,method:t,query:r,body:n,auth:a}){this.log(Mn.LogLevel.INFO,"request start",{method:t,path:e});const s=n&&0!==Object.entries(n).length?JSON.stringify(n):void 0,i=new URL(`${Xn(this,Fn,"f")}${e}`);if(r)for(const[d,l]of Object.entries(r))void 0!==l&&i.searchParams.append(d,String(l));const o={...this.authAsHeaders(a),"Notion-Version":Xn(this,Vn,"f"),"user-agent":Xn(this,Kn,"f")};void 0!==s&&(o["content-type"]="application/json");try{const r=await In.RequestTimeoutError.rejectAfterTimeout(Xn(this,zn,"f").call(this,i.toString(),{method:t,headers:o,body:s,agent:Xn(this,Hn,"f")}),Xn(this,qn,"f")),n=await r.text();if(!r.ok)throw(0,In.buildRequestError)(r,n);const a=JSON.parse(n);return this.log(Mn.LogLevel.INFO,"request success",{method:t,path:e}),a}catch(u){if(!(0,In.isNotionClientError)(u))throw u;throw this.log(Mn.LogLevel.WARN,"request fail",{code:u.code,message:u.message}),(0,In.isHTTPResponseError)(u)&&this.log(Mn.LogLevel.DEBUG,"failed response body",{body:u.body}),u}}search(e){return this.request({path:$n.search.path(),method:$n.search.method,query:(0,bn.pick)(e,$n.search.queryParams),body:(0,bn.pick)(e,$n.search.bodyParams),auth:null==e?void 0:e.auth})}log(e,t,r){(0,Mn.logLevelSeverity)(e)>=(0,Mn.logLevelSeverity)(Xn(this,Yn,"f"))&&Xn(this,Un,"f").call(this,e,t,r)}authAsHeaders(e){const t={},r=null!=e?e:Xn(this,Bn,"f");return void 0!==r&&(t.authorization="Bearer "+r),t}}Jn.default=ea,Bn=new WeakMap,Yn=new WeakMap,Un=new WeakMap,Fn=new WeakMap,qn=new WeakMap,Vn=new WeakMap,zn=new WeakMap,Hn=new WeakMap,Kn=new WeakMap,ea.defaultNotionVersion="2022-02-22";var ta={};Object.defineProperty(ta,"__esModule",{value:!0}),ta.isNotionClientError=ta.APIErrorCode=ta.Client=void 0,Object.defineProperty(ta,"Client",{enumerable:!0,get:function(){return Jn.default}}),Object.defineProperty(ta,"LogLevel",{enumerable:!0,get:function(){return Mn.LogLevel}}),Object.defineProperty(ta,"APIErrorCode",{enumerable:!0,get:function(){return In.APIErrorCode}}),Object.defineProperty(ta,"ClientErrorCode",{enumerable:!0,get:function(){return In.ClientErrorCode}}),Object.defineProperty(ta,"APIResponseError",{enumerable:!0,get:function(){return In.APIResponseError}}),Object.defineProperty(ta,"UnknownHTTPResponseError",{enumerable:!0,get:function(){return In.UnknownHTTPResponseError}}),Object.defineProperty(ta,"RequestTimeoutError",{enumerable:!0,get:function(){return In.RequestTimeoutError}}),Object.defineProperty(ta,"isNotionClientError",{enumerable:!0,get:function(){return In.isNotionClientError}});var ra={},na=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function i(e){try{u(n.next(e))}catch(ce){s(ce)}}function o(e){try{u(n.throw(e))}catch(ce){s(ce)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}u((n=n.apply(e,t||[])).next())}))};function aa(e){return!!e&&"has_more"in e}Object.defineProperty(ra,"__esModule",{value:!0}),ra.NotionClient=void 0;class sa extends ta.Client{constructor(e){super(e),this.auth=e.auth}get isRateLimited(){var e,t;return null!==(t=null===(e=sa.rateLimits[this.auth])||void 0===e?void 0:e.isRateLimited)&&void 0!==t&&t}set isRateLimited(e){sa.rateLimits[this.auth].isRateLimited=e}get retryAfterPromise(){var e,t;return null!==(t=null===(e=sa.rateLimits[this.auth])||void 0===e?void 0:e.retryAfterPromise)&&void 0!==t?t:null}set retryAfterPromise(e){sa.rateLimits[this.auth].retryAfterPromise=e}static alertRateLimited(){alert("You are being rate-limited for making too many requests too quickly.\n\nLeave this popup open and I will automatically resume once you are no longer rate-limited.\n\nAlternatively, please try again in a few minutes' time.")}static sleep(e){return na(this,void 0,void 0,(function*(){return yield new Promise(t=>setTimeout(t,e))}))}makeRequest(e,t){return na(this,void 0,void 0,(function*(){try{return this.isRateLimited&&null!==this.retryAfterPromise&&(sa.alertRateLimited,yield this.retryAfterPromise),yield e(t)}catch(r){const n=(0,ta.isNotionClientError)(r)?"NOTION_ERROR":"UNKNOWN_ERROR";if(console.error({type:n,error:r}),(0,ta.isNotionClientError)(r)&&r.code===ta.APIErrorCode.RateLimited){const n=Number(r.headers.get("Retry-After"));return this.isRateLimited=!0,this.retryAfterPromise=sa.sleep(1e3*n),sa.alertRateLimited,yield this.retryAfterPromise,this.isRateLimited=!1,this.retryAfterPromise=null,yield this.makeRequest(e,t)}}}))}makePaginatedRequest(e,t){return na(this,void 0,void 0,(function*(){let r=yield this.makeRequest(e,t);if(aa(r)){const n=r.results;for(;aa(r)&&r.has_more;)t.start_cursor=r.next_cursor,aa(r=yield this.makeRequest(e,t))&&n.push(...r.results);aa(r)&&(r.results=n)}return r}))}retrieveMe(){return na(this,void 0,void 0,(function*(){return yield this.makeRequest(this.users.me,{})}))}queryDatabase(e,t){return na(this,void 0,void 0,(function*(){return yield this.makePaginatedRequest(this.databases.query,{database_id:e,filter:t})}))}retrieveDatabase(e){return na(this,void 0,void 0,(function*(){return yield this.makeRequest(this.databases.retrieve,{database_id:e})}))}createPage(e){return na(this,void 0,void 0,(function*(){return yield this.makeRequest(this.pages.create,e)}))}}ra.NotionClient=sa,sa.rateLimits={};var ia={},oa=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function i(e){try{u(n.next(e))}catch(ce){s(ce)}}function o(e){try{u(n.throw(e))}catch(ce){s(ce)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}u((n=n.apply(e,t||[])).next())}))},ua=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ia,"__esModule",{value:!0}),ia.getOptions=void 0;const da=ua(oe),la=t({}),ca=r({});function ma(){return oa(this,void 0,void 0,(function*(){const e=Object.fromEntries(Object.entries(la.CONFIGURATION.FIELDS).map(([e,{defaultValue:t}])=>[e,t]));return yield da.default.storage.local.get(e)}))}function ha(){return oa(this,void 0,void 0,(function*(){const e=yield ma();Object.entries(e).forEach(([e,t])=>{!function(e,t){const r=document.getElementById(e);r&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&(r.value=t)}(la.CONFIGURATION.FIELDS[e].elementId,t)})}))}function fa(e,t){var r;return oa(this,void 0,void 0,(function*(){const n=null!==(r=function(e){const t=document.getElementById(e);if(t&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return t.value.trim()||null}(e))&&void 0!==r?r:null;return yield new t(e,n).validate()}))}function ga(){return oa(this,void 0,void 0,(function*(){const e=yield function(){return oa(this,void 0,void 0,(function*(){const e=Object.fromEntries(yield Promise.all(Object.entries(la.CONFIGURATION.FIELDS).map(([e,{elementId:t,Validator:r}])=>oa(this,void 0,void 0,(function*(){const n=yield fa(t,r);return[e,n]})))));return Object.values(e).every(e=>e!==ca.FieldValidator.INVALID_INPUT)?e:null}))}();e&&(yield da.default.storage.local.set(e),pa&&(pa.innerHTML="Saved!",setTimeout(()=>{pa.innerHTML="Save"},1325)),ha())}))}ia.getOptions=function(){return oa(this,void 0,void 0,(function*(){const e=yield ma();return{timeZone:e.timeZone,canvas:{timeZone:e.timeZone,classNames:{breadcrumbs:e["canvas.classNames.breadcrumbs"],assignment:e["canvas.classNames.assignment"],title:e["canvas.classNames.title"],availableDate:e["canvas.classNames.availableDate"],availableStatus:e["canvas.classNames.availableStatus"],dueDate:e["canvas.classNames.dueDate"],dateElement:e["canvas.classNames.dateElement"]},classValues:{courseCodeN:Number(e["canvas.classValues.courseCodeN"]),notAvailable:e["canvas.classValues.notAvailable"]},selectors:{get courseCode(){return`.${e["canvas.classNames.breadcrumbs"]} li:nth-of-type(${e["canvas.classValues.courseCodeN"]}) span`},get availableStatus(){return`.${e["canvas.classNames.availableDate"]} .${e["canvas.classNames.availableStatus"]}`},get availableDate(){return`.${e["canvas.classNames.availableDate"]} .${e["canvas.classNames.dateElement"]}`},get dueDate(){return`.${e["canvas.classNames.dueDate"]} .${e["canvas.classNames.dateElement"]}`}},courseCodeOverrides:JSON.parse(e["canvas.courseCodeOverrides"])},notion:{timeZone:e.timeZone,notionKey:e["notion.notionKey"],databaseId:e["notion.databaseId"],propertyNames:{name:e["notion.propertyNames.name"],category:e["notion.propertyNames.category"],course:e["notion.propertyNames.course"],url:e["notion.propertyNames.url"],status:e["notion.propertyNames.status"],available:e["notion.propertyNames.available"],due:e["notion.propertyNames.due"],span:e["notion.propertyNames.span"]},propertyValues:{categoryCanvas:e["notion.propertyValues.categoryCanvas"],statusToDo:e["notion.propertyValues.statusToDo"]},courseEmojis:JSON.parse(e["notion.courseEmojis"])}}}))},document.addEventListener("DOMContentLoaded",ha),Object.values(la.CONFIGURATION.FIELDS).forEach(({elementId:e,Validator:t,validateOn:r="input"})=>{var n;null===(n=document.getElementById(e))||void 0===n||n.addEventListener(r,()=>fa(e,t))});const pa=document.getElementById("save-button");pa&&pa.addEventListener("click",ga),document.addEventListener("keydown",e=>{e.ctrlKey&&"s"===e.key&&(e.preventDefault(),ga())});var ya=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function i(e){try{u(n.next(e))}catch(ce){s(ce)}}function o(e){try{u(n.throw(e))}catch(ce){s(ce)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}u((n=n.apply(e,t||[])).next())}))},Ta=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty({},"__esModule",{value:!0});const va=Ta(oe),Aa=n({});!function(){ya(this,void 0,void 0,(function*(){const e=yield(0,ia.getOptions)();class t{constructor(e){this.assignment=e,this.name=this.parseName(),this.course=this.parseCourse(),this.icon=this.queryIcon(),this.url=this.parseURL(),this.available=this.parseAvailable(),this.due=this.parseDue()}isValid(){return![this.name,this.url,this.due].includes(t.INVALID_REQUIRED)}getCourse(){return`${this.icon?this.icon+" ":""}${this.course}`}toParsedAssignment(){return this.isValid()?{name:this.name,course:this.course,icon:this.icon,url:this.url,available:this.available,due:this.due}:null}static querySelector(e,r,n=!0){const a=e.querySelector(r);if(a)return t.validSelectors.add(r),a;!n||t.validSelectors.has(r)||t.invalidSelectors.has(r)||(t.invalidSelectors.add(r),alert("Incorrect selector: "+r))}queryRequired(e,r=!0){const n=t.querySelector(this.assignment,e,r);if(null==n?void 0:n.textContent)return n}parseTitle(){return this.queryRequired("."+e.canvas.classNames.title)}parseName(){var e,r,n;return null!==(n=null===(r=null===(e=this.parseTitle())||void 0===e?void 0:e.textContent)||void 0===r?void 0:r.trim())&&void 0!==n?n:t.INVALID_REQUIRED}parseCourse(){var r,n,a;const s=null!==(n=null===(r=t.querySelector(document,e.canvas.selectors.courseCode))||void 0===r?void 0:r.innerHTML)&&void 0!==n?n:"Unknown Course Code";return null!==(a=e.canvas.courseCodeOverrides[s])&&void 0!==a?a:s}queryIcon(){var t;return null!==(t=e.notion.courseEmojis[this.course])&&void 0!==t?t:null}parseURL(){var e,r;return null!==(r=null===(e=this.parseTitle())||void 0===e?void 0:e.href)&&void 0!==r?r:t.INVALID_REQUIRED}static getNextHour(){var t,r;return(r=new Date,0===r.getMinutes()||r.setHours(r.getHours()+1,0,0,0),r).toLocaleString("en-US",{timeZone:null!==(t=e.timeZone)&&void 0!==t?t:void 0})}parseAvailable(){var r,n,a,s;const i=t.querySelector(this.assignment,e.canvas.selectors.availableStatus,!1),o=t.querySelector(this.assignment,e.canvas.selectors.availableDate,!1),u=(null===(r=null==i?void 0:i.textContent)||void 0===r?void 0:r.trim())!==e.canvas.classValues.notAvailable?t.getNextHour():null!==(a=null===(n=null==o?void 0:o.textContent)||void 0===n?void 0:n.trim())&&void 0!==a?a:t.getNextHour();return(0,Aa.parseDate)(u,{timezone:null!==(s=e.timeZone)&&void 0!==s?s:void 0}).toISOString()}parseDue(){var r,n,a;const s=null===(n=null===(r=this.queryRequired(e.canvas.selectors.dueDate,!1))||void 0===r?void 0:r.textContent)||void 0===n?void 0:n.trim();if(s){const t=(0,Aa.parseDate)(s,{timezone:null!==(a=e.timeZone)&&void 0!==a?a:void 0});if(t.valueOf()>Date.now())return t.toISOString()}return t.INVALID_REQUIRED}}t.INVALID_REQUIRED=Symbol("INVALID_REQUIRED"),t.validSelectors=new Set,t.invalidSelectors=new Set;const r=document.getElementsByClassName(e.canvas.classNames.assignment);if(!r.length)return alert("No Canvas assignments were found on this page.\n\nPlease ensure this is a valid Canvas Course Assignments page.\n\nIf this is a Canvas Assignments page, the configured Canvas Class Names options may be incorrect.");const n=Object.values(r).map(e=>new t(e)).filter(e=>e.isValid());if(n.length){const{savedAssignments:e}=yield va.default.storage.local.get({savedAssignments:{}});e[n[0].getCourse()]=n.map(e=>e.toParsedAssignment()).filter(Boolean),yield va.default.storage.local.set({savedAssignments:e,savedCourse:n[0].getCourse()})}else alert("No valid assignments were found on this page.\n\nNOTE: Assignments without due dates are treated as invalid."),yield va.default.storage.local.set({savedCourse:""})}))}()}();